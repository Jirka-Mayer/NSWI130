{
  "id" : 1,
  "name" : "Name",
  "description" : "Description",
  "revision" : 0,
  "lastModifiedDate" : "2022-01-05T19:40:05Z",
  "lastModifiedAgent" : "structurizr-web/2544/diagram",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlIHsKCiAgICBtb2RlbCB7CiAgICAgICAgbWVkaWNhbFN0YWZmID0gcGVyc29uICJNZWRpY2FsIFN0YWZmIgogICAgICAgIHRlY2huaWNhbFN1cHBvcnRTdGFmZiA9IHBlcnNvbiAiTWVkaWNhbCBTdXBwb3J0IFN0YWZmIgoKICAgICAgICBtZWRpY2FsRGV2aWNlID0gc29mdHdhcmVTeXN0ZW0gIk1lZGljYWwgRGV2aWNlIiAiSGFyZHdhcmUiICJTcGVjaWZpYyB0eXBlIG9mIG1lZGljYWwgZGV2aWNlIGNvbnRhaW5pbmcgaGVhbHRoIHNlbnNvcnMiCgogICAgICAgIHBtYyA9IHNvZnR3YXJlU3lzdGVtICJQYXRpZW50IE1vbml0b3JpbmcgYW5kIENvbnRyb2wgKFBNQykiIHsKICAgICAgICAgICAgIWRvY3MgZG9jcwoKICAgICAgICAgICAgZ3JvdXAgIk1lZGljYWwgRGV2aWNlcyBNYW5hZ2VtZW50IiB7CiAgICAgICAgICAgICAgICBkZXZpY2VzV2ViQVBJID0gY29udGFpbmVyICJEZXZpY2VzIFdlYiBBUEkiICJNYW5hZ2VzIG1lZGljYWwgZGV2aWNlcyIgIkphdmEgU3ByaW5nIEJvb3QiIHsKICAgICAgICAgICAgICAgICAgICBkZXZpY2VzRGF0YUNvbnRyb2xsZXIgPSBjb21wb25lbnQgIkRldmljZXMgRGF0YSBDb250cm9sbGVyIiAiRW5kcG9pbnRzIHRvIGdldCBkZXZpY2UgZGF0YSIKICAgICAgICAgICAgICAgICAgICBkZXZpY2VzTWFuYWdlbWVudENvbnRyb2xsZXIgPSBjb21wb25lbnQgIkRldmljZXMgUmVnaXN0cmF0aW9uIENvbnRyb2xsZXIiICJFbmRwb2ludHMgdG8gKGRlKXJlZ2lzdGVyIGRldmljZXMiCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlc01hbmFnZW1lbnQgPSBjb21wb25lbnQgIkRldmljZXMgTWFuYWdlbWVudCIgIkltcGxlbWVudGF0aW9uIGxvZ2ljIG9mIGRldmljZXMgYXBwbGljYXRpb24iCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlc1BlcnNpc3RlbmNlID0gY29tcG9uZW50ICJEZXZpY2VzIFBlcnNpc3RlbmNlIiAiREIgb3BlcmF0aW9ucyBPUk1zIgogICAgICAgICAgICAgICAgICAgIGRldmljZXNOb3RpZmljYXRpb25zID0gY29tcG9uZW50ICJEZXZpY2VzIE5vdGlmaWNhdGlvbnMiICJTZW5kcyBlLW1haWwgLyBzbXMgbm90aWZpY2F0aW9uIHRvIHVzZXJzIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGV2aWNlc0FkYXB0ZXIgPSBjb250YWluZXIgIkRldmljZXMgQWRhcHRlciIgIlJlc29sdmVzIGNvbW11bmljYXRpb24gZGlmZmVyZW5jZXMgb2YgZGV2aWNlcyBhcyBhZGFwdGVyIiAiIiAiZGV2aWNlc0FkYXB0ZXIiCiAgICAgICAgICAgICAgICBkZXZpY2VzV2ViQXBwID0gY29udGFpbmVyICJEZXZpY2VzIFdlYiBBcHAiICJQcm92aWRlcyBVSSB0byBtYW5hZ2UgYW5kIGFsbG9jYXRlIG1lZGljYWwgZGV2aWNlcyIgIlJlYWN0IFRTIiAid2ViQXBwIgogICAgICAgICAgICAgICAgZGV2aWNlc0RCID0gY29udGFpbmVyICJEZXZpY2VzIERhdGEgU3RvcmFnZSIgIlBlcnNpc3RzIG1lZGljYWwgZGV2aWNlcyBjb25maWd1cmF0aW9ucyIgIlJlbGF0aW9uYWwgREIiCiAgICAgICAgICAgICAgICBzZWNvbmRhcnlEZXZpY2VzREIgPSBjb250YWluZXIgIkRldmljZXMgRGF0YSBTZWNvbmRhcnkgU3RvcmFnZSIgIlBlcnNpc3RzIG1lZGljYWwgZGV2aWNlcyBjb25maWd1cmF0aW9ucyIgIlJlbGF0aW9uYWwgREIiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGdyb3VwICJQYXRpZW50IE1vbml0b3JpbmcgYW5kIENvbnRyb2wiIHsKICAgICAgICAgICAgICAgIHBtY0JhY2tlbmQgPSBjb250YWluZXIgIlBNQyBTZXJ2ZXIiICJNYW5hZ2VzIGFsbG9jYXRpb24gb2YgcGF0aWVudHMsIGdhdGhlcmluZyBtb25pdG9yaW5nIGRhdGEgYW5kIGRydWdzIHVzYWdlIiAiSmF2YSBTcHJpbmcgQm9vdCIgewogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uQ3RybCA9IGNvbXBvbmVudCAiUGF0aWVudCBMb2NhdGlvbiBDb250cm9sbGVyIiAiaW1wbGVtZW50cyB0aGUgbG9naWMgcmVsYXRlZCB0byBnZXR0aW5nIGFuZCBzZXR0aW5nIHRoZSBsb2NhdGlvbiBvZiBhIHBhdGllbnQiICIiCgogICAgICAgICAgICAgICAgICAgIGhvc3BpdGFsQmVkQ3RybCA9IGNvbXBvbmVudCAiSG9zcGl0YWwgQmVkIENvbnRyb2xsZXIiICJpbXBsZW1lbnRzIHRoZSBsb2dpYyByZWxhdGVkIHRvIGdldHRpbmcgYW5kIHNldHRpbmcgdGhlIGhvc3BpdGFsIGJlZCBhdmFpbGFiaWxpdHkiICIiCgogICAgICAgICAgICAgICAgICAgIHZlYyA9IGNvbXBvbmVudCAiTmV3LXBhdGllbnQgZGV0ZWN0b3IiICJpbXBsZW1lbnRzIHRoZSBsb2dpYyBiZWhpbmQgZGV0ZWN0aW5nIG5ldyBwYXRpZW50cyIgIiIKCiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeUN0cmwgPSBjb21wb25lbnQgIlBhdGllbnQgSGlzdG9yeSBDb250cm9sbGVyIiAiaW1wbGVtZW50cyB0aGUgbG9naWMgcmVsYXRlZCB0byBnZXR0aW5nIGFuZCBwZXJzaXN0aW5nIHBhdGllbnQncyBoaXN0b3J5IiAiIgoKICAgICAgICAgICAgICAgICAgICBkcnVnQ3RybCA9IGNvbXBvbmVudCAiRHJ1ZyBDb250cm9sbGVyIiAiaW1wbGVtZW50cyB0aGUgbG9naWMgcmVsYXRlZCB0byBnZXR0aW5nIHBhdGllbnQncyBkcnVnIGRhdGEiICIiCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uQ3RybCA9IGNvbXBvbmVudCAiUGF0aWVudCBDb25kaXRpb24gQ29udHJvbGxlciIgImltcGxlbWVudHMgdGhlIGxvZ2ljIHJlbGF0ZWQgdG8gZ2V0dGluZyBwYXRpZW50J3MgY3VycmVudCBjb25kaXRpb24iICIiCgogICAgICAgICAgICAgICAgICAgIHBlcnNpc3RhbmNlTGF5ZXIgPSBjb21wb25lbnQgIlBlcnNpc3RhbmNlIExheWVyIiAiUHJvdmlkZXMgZGF0YSBtYXBwaW5nIChpbiB0aGUgZm9ybSBvZiBtYW55IE9STSBjbGFzc2VzKSB0byB0aGUgc3RvcmFnZSIgIiIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwbWNGcm9udGVuZCA9IGNvbnRhaW5lciAiUE1DIFdlYiBBcHAiICJBbGxvd3MgdG8gbWFuYWdlIHBhdGllbnQnIGFsbG9jYXRpb24sIHZpZXcgbW9uaXRvcmluZyBkYXRhIGFuZCBzZXQgcmVjb3JkcyBvZiBkcnVnIHVzYWdlIiAiUmVhY3QgVFMiICJ3ZWJBcHAiCiAgICAgICAgICAgICAgICBwbWNEQiA9IGNvbnRhaW5lciAiUE1DIERhdGEgU3RvcmFnZSIgIlBlcnNpc3RzIHBhdGllbnQgaGlzdG9yeSwgYWxsb2NhdGlvbiBvZiBkZXZpY2VzIHRvIGJlZHMsIGF2YWlsYWJsZSBiZWRzIGNvbmZpZ3VyYXRpb24iICJSZWxhdGlvbmFsIERCIgogICAgICAgICAgICAgICAgc2Vjb25kYXJ5UG1jREIgPSBjb250YWluZXIgIlBNQyBEYXRhIFNlY29uZGFyeSBTdG9yYWdlIiAiUGVyc2lzdHMgbWVkaWNhbCBkZXZpY2VzIGNvbmZpZ3VyYXRpb25zIiAiUmVsYXRpb25hbCBEQiIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZ3JvdXAgIkRydWdzIFVzYWdlIiB7CiAgICAgICAgICAgICAgICBkcnVnc1VzYWdlV2ViQVBJID0gY29udGFpbmVyICJEcnVncyBVc2FnZSBXZWIgQVBJIiAiQWxsb2NhdGVzIGRydWdzIGFuZCByZXBvcnRzIGRlcGxldGlvbiBvZiBkcnVncyIgIkphdmEgU3ByaW5nIEJvb3QiIHsKICAgICAgICAgICAgICAgICAgICBkcnVnRGVsaXZlcnlNYW4gPSBjb21wb25lbnQgIkRydWcgRGVsaXZlcnkgTWFuYWdlciIgIkltcGxlbWVudHMgbG9naWMgcmVsYXRlZCB0byByZXF1ZXN0aW5nIGRydWcgZGVsaXZlcnkiCgogICAgICAgICAgICAgICAgICAgIGRydWdDYXRhbG9nTWFuID0gY29tcG9uZW50ICJEcnVnIENhdGFsb2cgTWFuYWdlciIgIkltcGxlbWVudHMgbG9naWMgcmVsYXRlZCB0byBxdWVyeWluZyBkcnVnIGluZm9ybWF0aW9uIgoKICAgICAgICAgICAgICAgICAgICBkcnVnVXNhZ2VDdHJsID0gY29tcG9uZW50ICJEcnVnIENvbnRyb2xsZXIiICJFbmRwb2ludCBmb3IgZHJ1ZyBtYW5hZ2VtZW50IGFuZCBpbmZvIgoKICAgICAgICAgICAgICAgICAgICBkcnVnTWFuYWdlbWVudCA9IGNvbXBvbmVudCAiRHJ1ZyBNYW5hZ2VtZW50IiAiTWFuYWdlcyBkcnVnIG5lZWRzIgoKICAgICAgICAgICAgICAgICAgICBkcnVnUGVyc2lzdGFuY2VMYXllciA9IGNvbXBvbmVudCAiUGVyc2lzdGFuY2UgbGF5ZXIiCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZHJ1Z3NVc2FnZURCID0gY29udGFpbmVyICJEcnVncyBVc2FnZSBEYXRhIFN0b3JhZ2UiICJTdG9yZXMgYXZhaWxhYmxlIGRydWdzIGFsbG9jYXRpb24gKGJhbGFuY2UpIiAiUmVsYXRpb25hbCBEQiIKICAgICAgICAgICAgICAgIGRydWdzVXNhZ2VTZWNvbmRhcnlEQiA9IGNvbnRhaW5lciAiRHJ1Z3MgVXNhZ2UgRGF0YSBTZWNvbmRhcnkgU3RvcmFnZSIgIlN0b3JlcyBhdmFpbGFibGUgZHJ1Z3MgYWxsb2NhdGlvbiAoYmFsYW5jZSkiICJSZWxhdGlvbmFsIERCIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkbSA9IHNvZnR3YXJlU3lzdGVtICJEcnVnIE1vbml0b3JpbmcgKERNKSIgIlNvZnR3YXJlIFN5c3RlbSIKICAgICAgICBwYXRpZW50c1JlZ2lzdHJ5QVBJID0gc29mdHdhcmVTeXN0ZW0gIlBhdGllbnQgcmVnaXN0cnkiICJTb2Z0d2FyZSBTeXN0ZW0iCiAgICAgICAgb2F0aFVzZXJBdXRob3JpemF0aW9uID0gc29mdHdhcmVTeXN0ZW0gIk9BdXRoIEF1dGhvcml6YXRpb24gU2VydmVyIiAiU29mdHdhcmUgU3lzdGVtIgoKICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jICJVc2VzIFBNQyB0byBtYW5hZ2UgcGF0aWVudCBoZWFsdGggZGF0YSBhbmQgYmVkIGFsbG9jYXRpb25zIgogICAgICAgIHRlY2huaWNhbFN1cHBvcnRTdGFmZiAtPiBwbWMgIlVzZXMgUE1DIHRvIHJlZ2lzdGVyIG9yIHJlcGxhY2UgbWVkaWNhbCBkZXZpY2UgdG8gaG9zcGl0YWwgYmVkcyIKICAgICAgICBwbWMgLT4gZG0gIlVzZXMgRE0gdG8gbW9uaXRvciBkcnVnIHVzYWdlIgogICAgICAgIHBtYyAtPiBvYXRoVXNlckF1dGhvcml6YXRpb24gIlVzZXMgT0F1dGggdG8gYXV0aG9yaXplIG1lZGljYWwgYW5kIHRlY2huaWNhbCBzdGFmZiIKCiAgICAgICAgZGV2aWNlc1dlYkFQSSAtPiB0ZWNobmljYWxTdXBwb3J0U3RhZmYgIlJlcG9ydHMgZGV2aWNlIG1hbGZ1bmN0aW9ucyIKCiAgICAgICAgdGVjaG5pY2FsU3VwcG9ydFN0YWZmIC0+IGRldmljZXNXZWJBcHAgIlJlZ2lzdGVycyBvciByZXBsYWNlcyBtZWRpY2FsIGRldmljZSIKICAgICAgICBkZXZpY2VzV2ViQVBJIC0+IG9hdGhVc2VyQXV0aG9yaXphdGlvbiAiQXV0aG9yaXplcyBtZWRpY2FsIHN1cHBvcnQgc3RhZmYiCiAgICAgICAgbWVkaWNhbFN0YWZmIC0+IHBtY0Zyb250ZW5kICJVc2VzIgogICAgICAgIHBtY0JhY2tlbmQgLT4gb2F0aFVzZXJBdXRob3JpemF0aW9uICJBdXRob3JpemVzIG1lZGljYWwgc3RhZmYiCgogICAgICAgIGRldmljZXNXZWJBUEkgLT4gcG1jQmFja2VuZCAiUmVxdWVzdHMgYmVkcyBkYXRhIGZyb20gUE1DLCBzZW5kcyBuZXcgZGV2aWNlJ3MgYWxsb2NhdGlvbiBkZXZpY2UgdG8gUE1DIgogICAgICAgIHBtY0JhY2tlbmQgLT4gZGV2aWNlc1dlYkFQSSAiUXVlcmllcyBkYXRhIGZyb20gbWVkaWNhbCBkZXZpY2VzIgoKICAgICAgICBkcnVnc1VzYWdlV2ViQVBJIC0+IGRtICJSZXBvcnRzIGRydWdzIGRlcGxldGlvbiIKICAgICAgICBkbSAtPiBkcnVnc1VzYWdlV2ViQVBJICJBbGxvY2F0ZXMgZHJ1Z3MiCgogICAgICAgIGRydWdzVXNhZ2VXZWJBUEkgLT4gZHJ1Z3NVc2FnZURCICJVc2VzIgogICAgICAgIHBtY0JhY2tlbmQgLT4gcG1jREIgIlVzZXMiCiAgICAgICAgZGV2aWNlc1dlYkFQSSAtPiBkZXZpY2VzREIgIlVzZXMiCiAgICAgICAgcG1jRnJvbnRlbmQgLT4gcG1jQmFja2VuZCAiVXNlcyIKICAgICAgICBkZXZpY2VzV2ViQXBwIC0+IGRldmljZXNXZWJBUEkgIlVzZXMiCgogICAgICAgIHBtY0JhY2tlbmQgLT4gZHJ1Z3NVc2FnZVdlYkFQSSAiUmVxdWVzdCBhbGxvY2F0aW9uIG9mIGRydWdzIHRvIHBhdGllbnQiCiAgICAgICAgcG1jQmFja2VuZCAtPiBwYXRpZW50c1JlZ2lzdHJ5QVBJICJGZXRjaGVzIHBhdGllbnRzIGRhdGEiCgogICAgICAgIGRldmljZXNNYW5hZ2VtZW50IC0+IGRldmljZXNBZGFwdGVyICJSZXRyaWV2ZXMgZGV2aWNlcyBkYXRhIgogICAgICAgIGRldmljZXNBZGFwdGVyIC0+IG1lZGljYWxEZXZpY2UgIk1ha2VzIGNhbGwgdG8gdW5pcXVlIEFQSSIKCiAgICAgICAgLy8gUE1DIEJBQ0tFTkQgTDMKICAgICAgICBsb2NhdGlvbkN0cmwgLT4gcGVyc2lzdGFuY2VMYXllciAiVXNlcyB0byBhY2Nlc3MgcGF0aWVudCBsb2NhdGlvbiBkYXRhIgogICAgICAgIHZlYyAtPiBwYXRpZW50c1JlZ2lzdHJ5QVBJICJRdWVyaWVzIgogICAgICAgIGxvY2F0aW9uQ3RybCAtPiB2ZWMgIlF1ZXJyaWVzIGZvciBuZXcgcGF0aWVudHMiCiAgICAgICAgcG1jRnJvbnRlbmQgLT4gbG9jYXRpb25DdHJsICJNYWtlcyBBUEkgY2FsbHMgdG8gZ2V0L2Fzc2lnbiBwYXRpZW50cycgbG9jYXRpb25zIiAiSlNPTi9IVFRQIgoKICAgICAgICBob3NwaXRhbEJlZEN0cmwgLT4gbG9jYXRpb25DdHJsICJQcm92aWRlcyBkYXRhIGJvdXQgYXZhaWxhYmxlIGhvc3BpdGFsIGJlZHMiICJKU09OL0hUVFAiCiAgICAgICAgbG9jYXRpb25DdHJsIC0+IGhvc3BpdGFsQmVkQ3RybCAiV3JpdGVzIGNoYW5nZXMgaW4gaG9zcGl0YWwgYmVkIGF2YWlsaWFiaWxpdHkiICJKU09OL0hUVFAiCgogICAgICAgIGhvc3BpdGFsQmVkQ3RybCAtPiBwZXJzaXN0YW5jZUxheWVyICJVc2VzIHRvIGFjY2VzcyBob3NwaXRhbCBiZWQgYXZhaWxhYmlsaXR5IGRhdGEiICJKU09OL0hUVFAiCgogICAgICAgIGhpc3RvcnlDdHJsIC0+IGRydWdVc2FnZUN0cmwgIkZldGNoZXMgZGF0YSB0byBwZXJzaXN0IGZyb20iCgogICAgICAgIHBtY0Zyb250ZW5kIC0+IGhpc3RvcnlDdHJsICJNYWtlcyBBUEkgY2FsbHMgdG8gZ2V0IHBhdGllbnQgaGlzdG9yeSIgIkpTT04vSFRUUCIKICAgICAgICBoaXN0b3J5Q3RybCAtPiBwZXJzaXN0YW5jZUxheWVyICJVc2VzIHRvIGFjY2VzcyBwYXRpZW50IGhpc3RvcnkgZGF0YSIKCiAgICAgICAgcG1jRnJvbnRlbmQgLT4gZHJ1Z0N0cmwgIk1ha2VzIEFQSSBjYWxscyB0byBnZXQgcGF0aWVudCdzIGRydWcgdXNhZ2UgZGF0YSIgIkpTT04vSFRUUCIKICAgICAgICBkcnVnQ3RybCAtPiBkcnVnVXNhZ2VDdHJsICJVc2VzIHRvIGFjY2VzcyBwYXRpZW50LWRydWcgZGF0YSIKCiAgICAgICAgcG1jRnJvbnRlbmQgLT4gY29uZGl0aW9uQ3RybCAiTWFrZXMgQVBJIGNhbGxzIHRvIGdldCBwYXRpZW50J3MgY3VycmVudCBjb25kaXRpb24iICJKU09OL0hUVFAiCgogICAgICAgIGRydWdDdHJsIC0+IG9hdGhVc2VyQXV0aG9yaXphdGlvbiAiVXNlcyB0byBhdXRob3JpemUgcmVxdWVzdHMiCiAgICAgICAgY29uZGl0aW9uQ3RybCAtPiBvYXRoVXNlckF1dGhvcml6YXRpb24gIlVzZXMgdG8gYXV0aG9yaXplIHJlcXVlc3RzIgogICAgICAgIGhpc3RvcnlDdHJsIC0+IG9hdGhVc2VyQXV0aG9yaXphdGlvbiAiVXNlcyB0byBhdXRob3JpemUgcmVxdWVzdHMiCiAgICAgICAgbG9jYXRpb25DdHJsIC0+IG9hdGhVc2VyQXV0aG9yaXphdGlvbiAiVXNlcyB0byBhdXRob3JpemUgcmVxdWVzdHMiCgogICAgICAgIGNvbmRpdGlvbkN0cmwgLT4gZGV2aWNlc1dlYkFQSSAiUXVlcmllcyBzZW5zb3IgZGF0YSBmcm9tIiAiIgogICAgICAgIGNvbmRpdGlvbkN0cmwgLT4gcGVyc2lzdGFuY2VMYXllciAiVXNlcyB0byBwZXJzaXN0cy9hY2Nlc3Mgc2Vuc29yIGRhdGEgKGR1cmluZyBhIHNpbmdsZSBob3NwaXRhbGl6YXRpb24pIiAiIgogICAgICAgIGhpc3RvcnlDdHJsIC0+IHBlcnNpc3RhbmNlTGF5ZXIgIlVzZXMgdG8gcGVyc2lzdCBkYXRhIGZyb20iICJ2YXJpb3VzIE9STXMgcmVsYXRlZCB0byBjb250cm9sbGVycyIKCiAgICAgICAgcGVyc2lzdGFuY2VMYXllciAtPiBwbWNEQiAiUmVhZHMgZGF0YSBmcm9tLCB3cml0ZXMgZGF0YSB0byIKCiAgICAgICAgcG1jQmFja2VuZCAtPiBkZXZpY2VzRGF0YUNvbnRyb2xsZXIgIk1ha2VzIEFQSSBjYWxscyB0byIgIkpTT04vSFRUUFMiCiAgICAgICAgZGV2aWNlc0RhdGFDb250cm9sbGVyIC0+IGRldmljZXNNYW5hZ2VtZW50ICJHZXRzIGRldmljZXMgZGF0YSBwcm9jZXNzZWQgYnkgYXBwbGljYXRpb24gbG9naWMiCiAgICAgICAgZGV2aWNlc01hbmFnZW1lbnQgLT4gZGV2aWNlc1BlcnNpc3RlbmNlICJTdG9yZXMgZGV2aWNlcyBkYXRhIGFuZCBtZXRhZGF0YSIKICAgICAgICBkZXZpY2VzTWFuYWdlbWVudCAtPiBkZXZpY2VzTm90aWZpY2F0aW9ucyAiUmVwb3J0cyBkZXZpY2UncyBmYXVsdC9mYWlsdXJlIHRvIGV4dGVybmFsIHNlcnZpY2VzIgogICAgICAgIGRldmljZXNNYW5hZ2VtZW50Q29udHJvbGxlciAtPiBkZXZpY2VzTWFuYWdlbWVudCAiKERlKXJlZ2lzdGVycyBkZXZpY2VzIgoKICAgICAgICBkZXZpY2VzV2ViQXBwIC0+IGRldmljZXNEYXRhQ29udHJvbGxlciAiTWFrZXMgY2FsbCB0byIKICAgICAgICBkZXZpY2VzV2ViQXBwIC0+IGRldmljZXNNYW5hZ2VtZW50Q29udHJvbGxlciAiTWFrZXMgY2FsbCB0byIKCiAgICAgICAgZGV2aWNlc1BlcnNpc3RlbmNlIC0+IGRldmljZXNEQiAiVXNlcyBPUk0gdG8gcGVyc2lzdCBkYXRhIgogICAgICAgIGRldmljZXNOb3RpZmljYXRpb25zIC0+IHRlY2huaWNhbFN1cHBvcnRTdGFmZiAiUmVwb3J0cyBkZXZpY2UncyBmYXVsdC9mYWlsdXJlIHRvIgoKCiAgICAgICAgZHJ1Z1VzYWdlQ3RybCAtPiBkcnVnQ2F0YWxvZ01hbiAiUmVsYXlzIHF1ZXJpZXMgYWJvdXQgZHJ1ZyBpbmZvcm1hdGlvbiIKICAgICAgICBkcnVnQ2F0YWxvZ01hbiAtPiBkbSAiTWFrZXMgQVBJIGNhbGwgdG8iCiAgICAgICAgZHJ1Z0NhdGFsb2dNYW4gLT4gZHJ1Z1BlcnNpc3RhbmNlTGF5ZXIgIkNhY2hlcyBkcnVnIGluZm9ybWF0aW9uIiAiIiAibmV3UmVsYXRpb25zaGlwIgogICAgICAgIGRydWdVc2FnZUN0cmwgLT4gZHJ1Z01hbmFnZW1lbnQgIlJlbGF5cyBpbmZvIGFib3V0IGRydWcgcHJlc2NyaXB0aW9ucyIKICAgICAgICBkcnVnTWFuYWdlbWVudCAtPiBkcnVnUGVyc2lzdGFuY2VMYXllciAiU3RvcmVzIGRydWcgcHJlc2NyaXB0aW9ucyBhbmQgbG9jYWwgc3RvcmFnZSIKICAgICAgICBkcnVnUGVyc2lzdGFuY2VMYXllciAtPiBkcnVnc1VzYWdlREIgIlVzZXMgdG8gcGVyc2lzdCBkYXRhIgogICAgICAgIGRydWdNYW5hZ2VtZW50IC0+IGRydWdEZWxpdmVyeU1hbiAiUmVxdWVzdHMgZHJ1ZyBkZWxpdmVyeSIKICAgICAgICBkcnVnRGVsaXZlcnlNYW4gLT4gZG0gIk1ha2VzIEFQSSBjYWxsIHRvIgogICAgICAgIGRydWdEZWxpdmVyeU1hbiAtPiBkcnVnUGVyc2lzdGFuY2VMYXllciAiUXVldWVzIGRydWcgcmVxdWVzdHMiICIiICJuZXdSZWxhdGlvbnNoaXAiCgogICAgICAgIGRlcGxveW1lbnRFbnZpcm9ubWVudCAiUHJvZHVjdGlvbiIgewogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiVGVjaG5pY2FsIFVzZXIncyBXb3Jrc3RhdGlvbiIgIiIgIk1pY3Jvc29mdCBXaW5kb3dzIDEwIiB7CiAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiV2ViIEJyb3dzZXIiICIiICJDaHJvbWUsIEZpcmVmb3gsIFNhZmFyaSwgb3IgRWRnZSIgewogICAgICAgICAgICAgICAgICAgIGRldmljZXNXZWJBcHBJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIGRldmljZXNXZWJBcHAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIk1lZGljYWwgU3RhZmYncyBXb3Jrc3RhdGlvbiIgIiIgIk1pY3Jvc29mdCBXaW5kb3dzIDEwIiB7CiAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiV2ViIEJyb3dzZXIiICIiICJDaHJvbWUsIEZpcmVmb3gsIFNhZmFyaSwgb3IgRWRnZSIgewogICAgICAgICAgICAgICAgICAgIHBtY0Zyb250ZW5kSW5zdGFuY2UgPSBjb250YWluZXJJbnN0YW5jZSBwbWNGcm9udGVuZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiT24tcHJlbWlzZXMgRGF0YWNlbnRlciIgewogICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIms4LW1lZC1hcHBzLltiYXNlLWludHJhbmV0LXVybF0iICIiICJVYnVudHUgMTguMDQgTFRTIiB7CiAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkNvbnRhaW5lciAjMSIgIiIgIkRvY2tlciIgewogICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiYXBwLnBtYy5bYmFzZS1pbnRyYW5ldC11cmxdIiAiIiAiQXBhY2hlIFRvbWNhdCA4LngiIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBtY0JhY2tlbmRJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIHBtY0JhY2tlbmQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiQ29udGFpbmVyICMyIiAiIiAiRG9ja2VyIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJkZXZpY2VzLnBtYy5bYmFzZS1pbnRyYW5ldC11cmxdIiAiIiAiQXBhY2hlIFRvbWNhdCA4LngiIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZXNXZWJBUElJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIGRldmljZXNXZWJBUEkKICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJDb250YWluZXIgIzQiICIiICJEb2NrZXIiIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgImRldmljZXMtYWRhcHRlci5wbWMuW2Jhc2UtaW50cmFuZXQtdXJsXSIgIiIgIkFwYWNoZSBUb21jYXQgOC54IiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzQWRhcHRlckluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2UgZGV2aWNlc0FkYXB0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJDb250YWluZXIgIzMiICIiICJEb2NrZXIiIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgImRydWctdXNhZ2UucG1jLltiYXNlLWludHJhbmV0LXVybF0iICIiICJBcGFjaGUgVG9tY2F0IDgueCIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJ1Z3NVc2FnZVdlYkFQSUluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2UgZHJ1Z3NVc2FnZVdlYkFQSQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJtZWQtZGIwMS5bYmFzZS1pbnRyYW5ldC11cmxdIiAiIiAiVWJ1bnR1IDE4LjA0IExUUyIgewogICAgICAgICAgICAgICAgICAgIHByaW1hcnlEYXRhYmFzZVNlcnZlciA9IGRlcGxveW1lbnROb2RlICJPcmFjbGUgLSBQcmltYXJ5IiAiIiAiT3JhY2xlIDE5YyIgewogICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5RGV2aWNlc0RCSW5zdGFuY2UgPSBjb250YWluZXJJbnN0YW5jZSBkZXZpY2VzREIKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeURydWdzREJJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIGRydWdzVXNhZ2VEQgogICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5UG1jREJJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIHBtY0RCCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJtZWQtZGIwMy5bYmFzZS1pbnRyYW5ldC11cmxdIiAiIiAiVWJ1bnR1IDE4LjA0IExUUyIgIkZhaWxvdmVyIiB7CiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5RGF0YWJhc2VTZXJ2ZXIgPSBkZXBsb3ltZW50Tm9kZSAiT3JhY2xlIC0gU2Vjb25kYXJ5IiAiIiAiT3JhY2xlIDE5YyIgIkZhaWxvdmVyIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeURldmljZXNEQkluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2Ugc2Vjb25kYXJ5RGV2aWNlc0RCCiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeURydWdzREJJbnN0YW5jZSA9IGNvbnRhaW5lckluc3RhbmNlIGRydWdzVXNhZ2VTZWNvbmRhcnlEQgogICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlQbWNEQkluc3RhbmNlID0gY29udGFpbmVySW5zdGFuY2Ugc2Vjb25kYXJ5UG1jREIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcHJpbWFyeURhdGFiYXNlU2VydmVyIC0+IHNlY29uZGFyeURhdGFiYXNlU2VydmVyICJSZXBsaWNhdGVzIGRhdGEgdG8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgdmlld3MgewogICAgICAgIHN5c3RlbUNvbnRleHQgcG1jICJMZXZlbF8xIiB7CiAgICAgICAgICAgIGluY2x1ZGUgKgogICAgICAgIH0KCiAgICAgICAgY29udGFpbmVyIHBtYyAiTGV2ZWxfMiIgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICAgICAgZXhjbHVkZSBzZWNvbmRhcnlEZXZpY2VzREIKICAgICAgICAgICAgZXhjbHVkZSBkcnVnc1VzYWdlU2Vjb25kYXJ5REIKICAgICAgICAgICAgZXhjbHVkZSBzZWNvbmRhcnlQbWNEQgogICAgICAgIH0KCiAgICAgICAgY29tcG9uZW50IHBtY0JhY2tlbmQgIkxldmVsXzNfY2VudHJhbCIgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICAgICAgZXhjbHVkZSBkZXZpY2VzV2ViQVBJIC0+IG9hdGhVc2VyQXV0aG9yaXphdGlvbgoKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29tcG9uZW50IGRldmljZXNXZWJBUEkgIkxldmVsXzNfZGV2aWNlcyIgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICB9CgogICAgICAgIGNvbXBvbmVudCBkcnVnc1VzYWdlV2ViQVBJICJMZXZlbF8zX2RydWdzIiB7CiAgICAgICAgICAgIGluY2x1ZGUgKgogICAgICAgIH0KCgogICAgICAgIGR5bmFtaWMgcG1jICJTaW1wbGVQYXRpZW50RGlzY292ZXJ5V29ya2Zsb3ciICJTdW1tYXJpc2VzIGhvdyBuZXcgYW5kIHVuYXNzaWduZWQgcGF0aWVudHMgYXJlIGRpc2NvdmVyZWQuIiB7CiAgICAgICAgICAgIG1lZGljYWxTdGFmZiAtPiBwbWNGcm9udGVuZCAiRGlzcGxheXMgdGhlIHVuYXNzaWduZWQtcGF0aWVudCB2aWV3IC8gcGFnZSIKICAgICAgICAgICAgcG1jRnJvbnRlbmQgLT4gcG1jQmFja2VuZCAiUmVxdWVzdHMgaW5jb21pbmcgdW5hc3NpZ25lZCBwYXRpZW50IGxpc3QiCiAgICAgICAgICAgIHBtY0JhY2tlbmQgLT4gcGF0aWVudHNSZWdpc3RyeUFQSSAiUmVxdWVzdHMgaW5mb3JtYXRpb24gdG8gZGV0ZXJtaW5lIG5ldyBwYXRpZW50cyIKICAgICAgICAgICAgcGF0aWVudHNSZWdpc3RyeUFQSSAtPiBwbWNCYWNrZW5kICJSZXNwb25kcyB3aXRoIHRoZSByZXF1aXJlZCBpbmZvcm1hdGlvbiIKICAgICAgICAgICAgcG1jQmFja2VuZCAtPiBwbWNGcm9udGVuZCAiUmV0dXJucyBsaXN0IG9mIGluY29taW5nIHVuYXNzaWduZWQgcGF0aWVudHMiCiAgICAgICAgICAgIGF1dG9sYXlvdXQKICAgICAgICB9CgogICAgICAgIGR5bmFtaWMgcG1jQmFja2VuZCAiUGF0aWVudERpc2NvdmVyeVdvcmtmbG93IiAiU3VtbWFyaXNlcyBob3cgbmV3IGFuZCB1bmFzc2lnbmVkIHBhdGllbnRzIGFyZSBkaXNjb3ZlcmVkLiIgewogICAgICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jRnJvbnRlbmQgIkRpc3BsYXlzIHRoZSB1bmFzc2lnbmVkLXBhdGllbnQgdmlldyAvIHBhZ2UiCiAgICAgICAgICAgIHBtY0Zyb250ZW5kIC0+IGxvY2F0aW9uQ3RybCAiUmVxdWVzdHMgaW5jb21pbmcgdW5hc3NpZ25lZCBwYXRpZW50IGxpc3QiCiAgICAgICAgICAgIGxvY2F0aW9uQ3RybCAtPiB2ZWMgIlJlcXVlc3RzIG5ldy1wYXRpZW50IGxpc3QiCiAgICAgICAgICAgIHZlYyAtPiBwYXRpZW50c1JlZ2lzdHJ5QVBJICJSZXF1ZXN0cyBwYXRpZW50IGRhdGEgdG8gZGV0ZXJtaW5lIG5ldyBwYXRpZW50cyIKICAgICAgICAgICAgcGF0aWVudHNSZWdpc3RyeUFQSSAtPiB2ZWMgIlJldHVybnMgcGF0aWVudCBkYXRhIgogICAgICAgICAgICB2ZWMgLT4gbG9jYXRpb25DdHJsICJSZXR1cm5zIGluY29taW5nIHBhdGllbnQgbGlzdCIKICAgICAgICAgICAgbG9jYXRpb25DdHJsIC0+IHBlcnNpc3RhbmNlTGF5ZXIgIkZpbHRlciB1bmFzc2lnbmVkIHBhdGllbnRzIHVzaW5nIgogICAgICAgICAgICBwZXJzaXN0YW5jZUxheWVyIC0+IGxvY2F0aW9uQ3RybCAiUmV0dXJucyBsaXN0IG9mIGZpbHRlcmVkIHVuYXNzaWduZWQgcGF0aWVudHMiCiAgICAgICAgICAgIGxvY2F0aW9uQ3RybCAtPiBwbWNGcm9udGVuZCAiUmV0dXJucyBsaXN0IG9mIGluY29taW5nIHVuYXNzaWduZWQgcGF0aWVudHMiCiAgICAgICAgICAgIHBtY0Zyb250ZW5kIC0+IG1lZGljYWxTdGFmZiAiRGlzcGxheXMgdW5hc3NpZ25lZCBwYXRpZW50cyIKICAgICAgICB9CgogICAgICAgIGR5bmFtaWMgcG1jICJTaW1wbGVBZGRQYXRpZW50V29ya2Zsb3ciICJTdW1tYXJpc2VzIGhvdyB0aGUgYXNzaWduaW5nIG9mIHBhdGllbnRzIHdvcmtzLiIgewogICAgICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jRnJvbnRlbmQgIkFzc2lnbnMgYW4gdW5hc3NpZ25lZCBwYXRpZW50IHRvIGEgYmVkIgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBwbWNCYWNrZW5kICJSZXF1ZXN0cyB0aGUgYXNzaWdubWVudCBvZiBhIHBhdGllbnQgdG8gYSBiZWQiCiAgICAgICAgICAgIHBtY0JhY2tlbmQgLT4gcG1jRnJvbnRlbmQgIlNpZ25hbHMgc3VjY2Vzcy9mYWlsdXJlIgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBtZWRpY2FsU3RhZmYgIlNpZ25hbHMgc3VjY2Vzcy9mYWlsdXJlIgogICAgICAgIH0KCiAgICAgICAgZHluYW1pYyBwbWNCYWNrZW5kICJBZGRQYXRpZW50V29ya2Zsb3ciICJTdW1tYXJpc2VzIGhvdyB0aGUgYXNzaWduaW5nIG9mIHBhdGllbnRzIHdvcmtzLiIgewogICAgICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jRnJvbnRlbmQgIkFzc2lnbnMgYW4gdW5hc3NpZ25lZCBwYXRpZW50IHRvIGEgYmVkIgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBsb2NhdGlvbkN0cmwgIlJlcXVlc3RzIHRoZSBhc3NpZ25tZW50IG9mIGEgcGF0aWVudCB0byBhIGJlZCIKICAgICAgICAgICAgbG9jYXRpb25DdHJsIC0+IHBlcnNpc3RhbmNlTGF5ZXIgIlZhbGlkYXRlcyAmIHdyaXRlcyBkYXRhIHVzaW5nIgogICAgICAgICAgICBwZXJzaXN0YW5jZUxheWVyIC0+IGxvY2F0aW9uQ3RybCAiU2lnbmFscyBzdWNjZXNzIC8gZmFpbHVyZSIKICAgICAgICAgICAgLy8gYWx0ZXJuYXRpdm5pIG5hdnJoIG5hc2xlZHVqaWNpaG8gMSBrcm9rdToKICAgICAgICAgICAgLy8gaGlzdG9yeUN0cmwgbWEgcG9tb2NpIHBlcnNpc3RhbmNlIGxheWVyIGV2ZW50IGxpc3RlbmVyIG5hIGthemRlbSAibHV6a3UiCiAgICAgICAgICAgIC8vICAgICAgY2FsbGJhY2s6IHptZW5hIHBhY2llbnRhIG5hIGx1emt1IAogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAocHV2b2RuaV9wYWNpZW50LCBsdXprbykgPT4gdnlrb25ueSBrb2QgaGlzdG9yeUN0cmwKICAgICAgICAgICAgLy8gcHJpIHptZW5lIGx1emthIGJ5IHNlIGRhbG8gbmFwc2F0LCB6ZSBoaXN0b3J5Y3RybCBzaSB2c2ltbmUgem1lbnkgYSB6YXJlYWd1amUKICAgICAgICAgICAgbG9jYXRpb25DdHJsIC0+IGhpc3RvcnlDdHJsICJJZiBhbiBvbGQgcGF0aWVudCB3YXMgb3ZlcndyaXR0ZW4sIHRyaWdnZXIgcGF0aWVudCBoaXN0b3J5IHBlcnNpc3RhbmNlIGZvciBvdmVyd3JpdHRlbiBwYXRpZW50IgogICAgICAgICAgICBsb2NhdGlvbkN0cmwgLT4gcG1jRnJvbnRlbmQgIlNpZ25hbHMgc3VjY2VzcyAvIGZhaWx1cmUiCiAgICAgICAgfQoKICAgICAgICBkeW5hbWljIHBtYyAiU2ltcGxlUGF0aWVudENvbmRpdGlvbkNoZWNrV29ya2Zsb3ciICJTdW1tYXJpc2VzIGhvdyB0aGUgbWVkaWNhbCBzdGFmZiBjYW4gYWNjZXNzIHBhdGllbnQncyBjdXJyZW50IGNvbmRpdGlvbiIgewogICAgICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jRnJvbnRlbmQgIkRpc3BsYXlzIHBhdGllbnQncyBjb25kaXRpb24gdmlldyAvIHBhZ2UiCiAgICAgICAgICAgIHBtY0Zyb250ZW5kIC0+IHBtY0JhY2tlbmQgIlJlcXVlc3RzIHBhdGllbnQncyBjb25kaXRpb24iCiAgICAgICAgICAgIHBtY0JhY2tlbmQgLT4gZGV2aWNlc1dlYkFQSSAiUmVxdWVzdHMgc2Vuc29yIGRhdGEgcmVsYXRlZCB0byBwYXRpZW50J3MgYmVkIgogICAgICAgICAgICBkZXZpY2VzV2ViQVBJIC0+IG1lZGljYWxEZXZpY2UgIlJlcXVlc3RzIGRldmljZSBkYXRhIgogICAgICAgICAgICBtZWRpY2FsRGV2aWNlIC0+IGRldmljZXNXZWJBUEkgIlJldHVybnMgZGV2aWNlIGRhdGEiCiAgICAgICAgICAgIGRldmljZXNXZWJBUEkgLT4gcG1jQmFja2VuZCAiUmV0dXJucyBkZXZpY2UgZGF0YSIKICAgICAgICAgICAgcG1jQmFja2VuZCAtPiBwbWNGcm9udGVuZCAiUmV0dXJucyBwYXRpZW50J3MgY29uZGl0aW9uIgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBtZWRpY2FsU3RhZmYgIkRpc3BsYXlzIHBhdGlldG4ncyBjb25kaXRpb24iCiAgICAgICAgfQoKICAgICAgICBkeW5hbWljIHBtY0JhY2tlbmQgIlBhdGllbnRDb25kaXRpb25DaGVja1dvcmtmbG93IiAiU3VtbWFyaXNlcyBob3cgdGhlIG1lZGljYWwgc3RhZmYgY2FuIGFjY2VzcyBwYXRpZW50J3MgY3VycmVudCBjb25kaXRpb24iIHsKICAgICAgICAgICAgbWVkaWNhbFN0YWZmIC0+IHBtY0Zyb250ZW5kICJEaXNwbGF5cyBwYXRpZW50J3MgY29uZGl0aW9uIHZpZXcgLyBwYWdlIgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBjb25kaXRpb25DdHJsICJSZXF1ZXN0cyBwYXRpZW50J3MgY29uZGl0aW9uIgogICAgICAgICAgICBjb25kaXRpb25DdHJsIC0+IHBlcnNpc3RhbmNlTGF5ZXIgIlJlcXVlc3RzIHBhdGllbnQncyBiZWQiCiAgICAgICAgICAgIHBlcnNpc3RhbmNlTGF5ZXIgLT4gY29uZGl0aW9uQ3RybCAiUmV0dXJucyBwYXRpZW50J3MgYmVkIgogICAgICAgICAgICBjb25kaXRpb25DdHJsIC0+IGRldmljZXNEYXRhQ29udHJvbGxlciAiUmVxdWVzdHMgc2Vuc29yIGRhdGEgcmVsYXRlZCB0byBwYXRpZW50J3MgYmVkIgogICAgICAgICAgICBkZXZpY2VzRGF0YUNvbnRyb2xsZXIgLT4gZGV2aWNlc01hbmFnZW1lbnQgIlJlcXVlc3RzIHNlbnNvciBkYXRhIHJlbGF0ZWQgdG8gdGhlIGJlZCIKICAgICAgICAgICAgZGV2aWNlc01hbmFnZW1lbnQgLT4gZGV2aWNlc0FkYXB0ZXIgIlJlcXVlc3QgZnJlc2ggZGV2aWNlIGRhdGEgdXNpbmciCiAgICAgICAgICAgIGRldmljZXNBZGFwdGVyIC0+IG1lZGljYWxEZXZpY2UgIkZldGNoZXMgZGV2aWNlIGRhdGEiCiAgICAgICAgICAgIG1lZGljYWxEZXZpY2UgLT4gZGV2aWNlc0FkYXB0ZXIgIlJldHVybnMgZGV2aWNlIGRhdGEiCiAgICAgICAgICAgIGRldmljZXNBZGFwdGVyIC0+IGRldmljZXNNYW5hZ2VtZW50ICJTZW5kcyBiYWNrIHNlbnNvciBkYXRhIgogICAgICAgICAgICBkZXZpY2VzTWFuYWdlbWVudCAtPiBkZXZpY2VzRGF0YUNvbnRyb2xsZXIgIlJldHVybnMgZGV2aWNlIGRhdGEiCiAgICAgICAgICAgIGRldmljZXNEYXRhQ29udHJvbGxlciAtPiBjb25kaXRpb25DdHJsICJTZW5kcyBkZXZpY2UgZGF0YSBpbiByZXNwb25zZSIKICAgICAgICAgICAgY29uZGl0aW9uQ3RybCAtPiBwbWNGcm9udGVuZCAiU2VuZHMgY3VycmVudCBwYXRpZW50IGNvbmRpdGlvbiBkYXRhIgogICAgICAgIH0KCiAgICAgICAgZHluYW1pYyBwbWMgIlNpbXBsZURydWdzTWFuYWdlbWVudFdvcmtmbG93IiAiU3VtbWFyaXNlcyBob3cgbWVkaWNhbCBzdGFmZiBhbGxvY2F0ZXMgZHJ1Z3MgdG8gYSBwYXRpZW50LiIgewogICAgICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jRnJvbnRlbmQgIkFzc2lnbnMgYSBkcnVnIHRvIGEgcGF0aWVudCIKICAgICAgICAgICAgcG1jRnJvbnRlbmQgLT4gcG1jQmFja2VuZCAiUmVxdWVzdHMgdGhlIGFzc2lnbm1lbnQgb2YgdGhlIGRydWcgdG8gdGhlIHBhdGllbnQiCiAgICAgICAgICAgIHBtY0JhY2tlbmQgLT4gZHJ1Z3NVc2FnZVdlYkFQSSAiUmVsYXlzIHRoZSByZXF1ZXN0IG9mIHRoZSBhc3NpZ25tZW50IG9mIHRoZSBkcnVnIHRvIHRoZSBwYXRpZW50IgogICAgICAgICAgICBkcnVnc1VzYWdlV2ViQVBJIC0+IGRtICJJbiBjYXNlIHRoZSBkcnVnIGlzIG5vdCBhdmFpbGFibGUsIHJlcXVlc3RzIGRlbGl2ZXJ5IgogICAgICAgICAgICBhdXRvbGF5b3V0CiAgICAgICAgfQoKICAgICAgICBkeW5hbWljIGRydWdzVXNhZ2VXZWJBUEkgIkRydWdzTWFuYWdlbWVudFdvcmtmbG93IiAiU3VtbWFyaXNlcyBob3cgbWVkaWNhbCBzdGFmZiBhbGxvY2F0ZXMgZHJ1Z3MgdG8gYSBwYXRpZW50LiIgewogICAgICAgICAgICBtZWRpY2FsU3RhZmYgLT4gcG1jRnJvbnRlbmQgIkFzc2lnbnMgYSBkcnVnIHRvIGEgcGF0aWVudCIKICAgICAgICAgICAgcG1jRnJvbnRlbmQgLT4gZHJ1Z0N0cmwgIlJlcXVlc3RzIHRoZSBhc3NpZ25tZW50IG9mIHRoZSBkcnVnIHRvIHRoZSBwYXRpZW50IgogICAgICAgICAgICBkcnVnQ3RybCAtPiBkcnVnVXNhZ2VDdHJsICJSZWxheXMgdGhlIHJlcXVlc3Qgb2YgdGhlIGFzc2lnbm1lbnQgb2YgdGhlIGRydWcgdG8gdGhlIHBhdGllbnQiCiAgICAgICAgICAgIGRydWdVc2FnZUN0cmwgLT4gZHJ1Z01hbmFnZW1lbnQgIlJlcXVlc3RzIHByZXNjcmlwdGlvbiBvZiB0aGUgZHJ1ZyB0byB0aGUgcGF0aWVudCIKICAgICAgICAgICAgZHJ1Z01hbmFnZW1lbnQgLT4gZHJ1Z1BlcnNpc3RhbmNlTGF5ZXIgIldyaXRlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJlc2NyaXB0aW9uIG9mIHRoZSBkcnVnIHRvIHRoZSBwYXRpZW50IgogICAgICAgICAgICBkcnVnTWFuYWdlbWVudCAtPiBkcnVnUGVyc2lzdGFuY2VMYXllciAiQ2hlY2tzIHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIGRydWciCiAgICAgICAgICAgIGRydWdNYW5hZ2VtZW50IC0+IGRydWdEZWxpdmVyeU1hbiAiSW4gY2FzZSB0aGUgZHJ1ZyBpcyBub3QgYXZhaWxhYmxlLCByZXF1ZXN0cyBkZWxpdmVyeSIKICAgICAgICAgICAgZHJ1Z0RlbGl2ZXJ5TWFuIC0+IGRtICJSZXF1ZXN0cyBkZWxpdmVyeSBvZiB0aGUgZHJ1ZyIKICAgICAgICB9CgogICAgICAgIGR5bmFtaWMgZGV2aWNlc1dlYkFQSSAiRGV2aWNlRmFpbHVyZVdvcmtmbG93IiAiU3VtbWFyaXNlcyBob3cgdGVjaG5pY2FsIHN0YWZmIGlzIGluZm9ybWVkIGFib3V0IGRldmljZSBtYWxmdW5jdGlvbi4iIHsKICAgICAgICAgICAgZGV2aWNlc01hbmFnZW1lbnQgLT4gZGV2aWNlc0FkYXB0ZXIgIlJlcXVlc3RzIGRhdGEgZnJvbSBhIGRldmljZSIKICAgICAgICAgICAgZGV2aWNlc0FkYXB0ZXIgLT4gZGV2aWNlc01hbmFnZW1lbnQgIlNpZ25pZmllcyBpbnZhbGlkIGRhdGEiCiAgICAgICAgICAgIGRldmljZXNNYW5hZ2VtZW50IC0+IGRldmljZXNOb3RpZmljYXRpb25zICJSZXF1ZXN0cyB0byBub3RpZnkgdXNlcnMgb2YgdGhlIGZhaWx1cmUiCiAgICAgICAgICAgIGRldmljZXNNYW5hZ2VtZW50IC0+IGRldmljZXNQZXJzaXN0ZW5jZSAiU3RvcmVzIGZhaWx1cmUgZGV0YWlscyIKICAgICAgICAgICAgZGV2aWNlc05vdGlmaWNhdGlvbnMgLT4gdGVjaG5pY2FsU3VwcG9ydFN0YWZmICJOb3RpZmllcyBvZiB0aGUgZmFpbHVyZSIKICAgICAgICAgICAgdGVjaG5pY2FsU3VwcG9ydFN0YWZmIC0+IGRldmljZXNXZWJBcHAgIlJldmlld3MgZmFpbHVyZSBkZXRhaWxzIGZvciBkaWFnbm9zdGljcyIKICAgICAgICAgICAgYXV0b2xheW91dAogICAgICAgIH0KCiAgICAgICAgZHluYW1pYyBwbWMgIlNpbXBsZURldmljZUZhaWx1cmVXb3JrZmxvdyIgIlN1bW1hcmlzZXMgaG93IHRlY2huaWNhbCBzdGFmZiBpcyBpbmZvcm1lZCBhYm91dCBkZXZpY2UgbWFsZnVuY3Rpb24uIiB7CiAgICAgICAgICAgIHBtY0JhY2tlbmQgLT4gZGV2aWNlc1dlYkFQSSAiUmVxdWVzdHMgZGV2aWNlcyBkYXRhIGZvciBob3NwaXRhbCBiZWQiCiAgICAgICAgICAgIGRldmljZXNXZWJBUEkgLT4gbWVkaWNhbERldmljZSAiUmVxdWVzdHMgZGV2aWNlIGRhdGEiCiAgICAgICAgICAgIG1lZGljYWxEZXZpY2UgLT4gZGV2aWNlc1dlYkFQSSAiTWFsZnVuY3Rpb24gaW4gZGV2aWNlIgogICAgICAgICAgICBkZXZpY2VzV2ViQVBJIC0+IHBtY0JhY2tlbmQgIlJldHVybnMgZ2VuZXJpYyBub24tdGVjaG5pY2FsIGVycm9yIG1lc3NhZ2UiCiAgICAgICAgICAgIGRldmljZXNXZWJBUEkgLT4gdGVjaG5pY2FsU3VwcG9ydFN0YWZmICJTZW5kcyBub3RpZmljYXRpb24iCiAgICAgICAgICAgIHRlY2huaWNhbFN1cHBvcnRTdGFmZiAtPiBkZXZpY2VzV2ViQXBwICJDYW4gcmV2aWV3IG1hbGZ1bmN0aW9uIGRldGFpbHMiCiAgICAgICAgICAgIGF1dG9sYXlvdXQKICAgICAgICB9CgogICAgICAgIGR5bmFtaWMgcG1jICJTaW1wbGVEZXZpY2VBc3NpZ25tZW50V29ya2Zsb3ciICJTdW1tYXJpc2VzIGhvdyBkZXZpY2VzIGFwcCBpcyB1dGlsaXplZCB3aXRoIHBtYyBhcHBsaWNhdGlvbi4iIHsKICAgICAgICAgICAgdGVjaG5pY2FsU3VwcG9ydFN0YWZmIC0+IG1lZGljYWxEZXZpY2UgIkluc3RhbGxzIGRldmljZSB0byBob3NwaXRhbCBiZWQiCiAgICAgICAgICAgIHRlY2huaWNhbFN1cHBvcnRTdGFmZiAtPiBkZXZpY2VzV2ViQXBwICJNYWtlcyByZXF1ZXN0IHRvIHJlZ2lzdGVyIGRldmljZSBmb3IgaG9zcGl0YWwgYmVkIgogICAgICAgICAgICBkZXZpY2VzV2ViQXBwIC0+IGRldmljZXNXZWJBUEkgIlJlZ2lzdGVycyBkZXZpY2UgZm9yIGhvc3BpdGFsIGJlZCIKICAgICAgICAgICAgbWVkaWNhbFN0YWZmIC0+IHBtY0Zyb250ZW5kICJXYW50cyB0byBzZWUgbWVkaWNhbCBkYXRhIGZvciBwYXRpZW50IgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBwbWNCYWNrZW5kICJSZXF1ZXN0cyBkYXRhIGZvciBwYXRpZW50IgogICAgICAgICAgICBwbWNCYWNrZW5kIC0+IGRldmljZXNXZWJBUEkgIlJlcXVlc3RzIGRldmljZXMgZGF0YSBmb3IgYmVkIHdoZXJlIHBhdGllbnQgaXMgYWxsb2NhdGVkIgogICAgICAgICAgICBkZXZpY2VzV2ViQVBJIC0+IG1lZGljYWxEZXZpY2UgIlJlcXVlc3RzIGRldmljZSBkYXRhIGZvciBlYWNoIGRldmljZSBvbiBiZWQiCiAgICAgICAgICAgIG1lZGljYWxEZXZpY2UgLT4gZGV2aWNlc1dlYkFQSSAiUmV0dXJucyBkZXZpY2UgZGF0YSIKICAgICAgICAgICAgZGV2aWNlc1dlYkFQSSAtPiBwbWNCYWNrZW5kICJSZXR1cm5zIGRldmljZSBkYXRhIgogICAgICAgICAgICBwbWNCYWNrZW5kIC0+IHBtY0Zyb250ZW5kICJSZXR1cm5zIGRldmljZSBkYXRhIgogICAgICAgICAgICBwbWNGcm9udGVuZCAtPiBtZWRpY2FsU3RhZmYgIlVzZXIgY2FuIHNlZSBtZWRpY2FsIGRhdGEiCiAgICAgICAgfQoKICAgICAgICBkZXBsb3ltZW50IHBtYyAiUHJvZHVjdGlvbiIgIlByb2QiIHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgfQoKICAgICAgICB0aGVtZSBkZWZhdWx0CiAgICAgICAgCiAgICAgICAgc3R5bGVzIHsKICAgICAgICAgICAgZWxlbWVudCAid2ViQXBwIiB7CiAgICAgICAgICAgICAgICAgICAgc2hhcGUgIldlYkJyb3dzZXIiIAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgZWxlbWVudCAibW9iaWxlQXBwIiB7CiAgICAgICAgICAgICAgICBzaGFwZSAiTW9iaWxlRGV2aWNlUG9ydHJhaXQiIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsZW1lbnQgIkZhaWxvdmVyIiB7CiAgICAgICAgICAgICAgICBvcGFjaXR5IDI1CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudCAiZGV2aWNlc0FkYXB0ZXIiIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQgI0ZGMDAwMAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlbGF0aW9uc2hpcCAibmV3UmVsYXRpb25zaGlwIiB7CiAgICAgICAgICAgICAgICBjb2xvciAjRkYwMDAwCiAgICAgICAgICAgICAgICB0aGlja25lc3MgMwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIAp9Cg=="
  },
  "configuration" : { },
  "model" : {
    "people" : [ {
      "id" : "2",
      "tags" : "Element,Person",
      "name" : "Medical Support Staff",
      "relationships" : [ {
        "id" : "149",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "3",
        "description" : "Installs device to hospital bed"
      }, {
        "id" : "38",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "4",
        "description" : "Uses PMC to register or replace medical device to hospital beds"
      }, {
        "id" : "43",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "12",
        "description" : "Registers or replaces medical device"
      } ],
      "location" : "Unspecified"
    }, {
      "id" : "1",
      "tags" : "Element,Person",
      "name" : "Medical Staff",
      "relationships" : [ {
        "id" : "45",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "23",
        "description" : "Uses"
      }, {
        "id" : "37",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "4",
        "description" : "Uses PMC to manage patient health data and bed allocations"
      } ],
      "location" : "Unspecified"
    } ],
    "softwareSystems" : [ {
      "id" : "4",
      "tags" : "Element,Software System",
      "name" : "Patient Monitoring and Control (PMC)",
      "relationships" : [ {
        "id" : "39",
        "tags" : "Relationship",
        "sourceId" : "4",
        "destinationId" : "34",
        "description" : "Uses DM to monitor drug usage"
      }, {
        "id" : "40",
        "tags" : "Relationship",
        "sourceId" : "4",
        "destinationId" : "36",
        "description" : "Uses OAuth to authorize medical and technical staff"
      }, {
        "id" : "42",
        "tags" : "Relationship",
        "sourceId" : "4",
        "destinationId" : "2",
        "description" : "Reports device malfunctions"
      }, {
        "id" : "59",
        "tags" : "Relationship",
        "sourceId" : "4",
        "destinationId" : "35",
        "description" : "Fetches patients data"
      }, {
        "id" : "63",
        "tags" : "Relationship",
        "sourceId" : "4",
        "destinationId" : "3",
        "description" : "Makes call to unique API"
      } ],
      "location" : "Unspecified",
      "containers" : [ {
        "id" : "23",
        "tags" : "Element,Container,webApp",
        "name" : "PMC Web App",
        "description" : "Allows to manage patient' allocation, view monitoring data and set records of drug usage",
        "relationships" : [ {
          "id" : "76",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "20",
          "description" : "Makes API calls to get patient's drug usage data",
          "technology" : "JSON/HTTP"
        }, {
          "id" : "67",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "16",
          "description" : "Makes API calls to get/assign patients' locations",
          "technology" : "JSON/HTTP"
        }, {
          "id" : "79",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "21",
          "description" : "Makes API calls to get patient's current condition",
          "technology" : "JSON/HTTP"
        }, {
          "id" : "55",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "15",
          "description" : "Uses"
        }, {
          "id" : "74",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "19",
          "description" : "Makes API calls to get patient history",
          "technology" : "JSON/HTTP"
        } ],
        "group" : "Patient Monitoring and Control",
        "technology" : "React TS"
      }, {
        "id" : "12",
        "tags" : "Element,Container,webApp",
        "name" : "Devices Web App",
        "description" : "Provides UI to manage and allocate medical devices",
        "relationships" : [ {
          "id" : "94",
          "tags" : "Relationship",
          "sourceId" : "12",
          "destinationId" : "7",
          "description" : "Makes call to"
        }, {
          "id" : "93",
          "tags" : "Relationship",
          "sourceId" : "12",
          "destinationId" : "6",
          "description" : "Makes call to"
        }, {
          "id" : "56",
          "tags" : "Relationship",
          "sourceId" : "12",
          "destinationId" : "5",
          "description" : "Uses"
        } ],
        "group" : "Medical Devices Management",
        "technology" : "React TS"
      }, {
        "id" : "32",
        "tags" : "Element,Container",
        "name" : "Drugs Usage Data Storage",
        "description" : "Stores available drugs allocation (balance)",
        "group" : "Drugs Usage",
        "technology" : "Relational DB"
      }, {
        "id" : "15",
        "tags" : "Element,Container",
        "name" : "PMC Server",
        "description" : "Manages allocation of patients, gathering monitoring data and drugs usage",
        "relationships" : [ {
          "id" : "73",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "29",
          "description" : "Fetches data to persist from"
        }, {
          "id" : "48",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "5",
          "description" : "Queries data from medical devices"
        }, {
          "id" : "88",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "6",
          "description" : "Makes API calls to",
          "technology" : "JSON/HTTPS"
        }, {
          "id" : "53",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "24",
          "description" : "Uses"
        }, {
          "id" : "58",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "35",
          "description" : "Fetches patients data"
        }, {
          "id" : "46",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "36",
          "description" : "Authorizes medical staff"
        }, {
          "id" : "57",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "26",
          "description" : "Request allocation of drugs to patient"
        } ],
        "group" : "Patient Monitoring and Control",
        "technology" : "Java Spring Boot",
        "components" : [ {
          "id" : "19",
          "tags" : "Element,Component",
          "name" : "Patient History Controller",
          "description" : "implements the logic related to getting and persisting patient's history",
          "relationships" : [ {
            "id" : "75",
            "tags" : "Relationship",
            "sourceId" : "19",
            "destinationId" : "22",
            "description" : "Uses to access patient history data"
          }, {
            "id" : "72",
            "tags" : "Relationship",
            "sourceId" : "19",
            "destinationId" : "26",
            "description" : "Fetches data to persist from"
          }, {
            "id" : "82",
            "tags" : "Relationship",
            "sourceId" : "19",
            "destinationId" : "36",
            "description" : "Uses to authorize requests"
          }, {
            "id" : "71",
            "tags" : "Relationship",
            "sourceId" : "19",
            "destinationId" : "29",
            "description" : "Fetches data to persist from"
          }, {
            "id" : "86",
            "tags" : "Relationship",
            "sourceId" : "19",
            "destinationId" : "22",
            "description" : "Uses to persist data from",
            "technology" : "various ORMs related to controllers"
          } ],
          "size" : 0
        }, {
          "id" : "22",
          "tags" : "Element,Component",
          "name" : "Persistance Layer",
          "description" : "Provides data mapping (in the form of many ORM classes) to the storage",
          "relationships" : [ {
            "id" : "87",
            "tags" : "Relationship",
            "sourceId" : "22",
            "destinationId" : "24",
            "description" : "Reads data from, writes data to"
          } ],
          "size" : 0
        }, {
          "id" : "18",
          "tags" : "Element,Component",
          "name" : "New-patient detector",
          "description" : "implements the logic behind detecting new patients",
          "relationships" : [ {
            "id" : "65",
            "tags" : "Relationship",
            "sourceId" : "18",
            "destinationId" : "35",
            "description" : "Queries"
          } ],
          "size" : 0
        }, {
          "id" : "20",
          "tags" : "Element,Component",
          "name" : "Drug Controller",
          "description" : "implements the logic related to getting patient's drug data",
          "relationships" : [ {
            "id" : "78",
            "tags" : "Relationship",
            "sourceId" : "20",
            "destinationId" : "26",
            "description" : "Uses to access patient-drug data"
          }, {
            "id" : "77",
            "tags" : "Relationship",
            "sourceId" : "20",
            "destinationId" : "29",
            "description" : "Uses to access patient-drug data"
          }, {
            "id" : "80",
            "tags" : "Relationship",
            "sourceId" : "20",
            "destinationId" : "36",
            "description" : "Uses to authorize requests"
          } ],
          "size" : 0
        }, {
          "id" : "16",
          "tags" : "Element,Component",
          "name" : "Patient Location Controller",
          "description" : "implements the logic related to getting and setting the location of a patient",
          "relationships" : [ {
            "id" : "69",
            "tags" : "Relationship",
            "sourceId" : "16",
            "destinationId" : "17",
            "description" : "Writes changes in hospital bed availiability",
            "technology" : "JSON/HTTP"
          }, {
            "id" : "64",
            "tags" : "Relationship",
            "sourceId" : "16",
            "destinationId" : "22",
            "description" : "Uses to access patient location data"
          }, {
            "id" : "146",
            "tags" : "Relationship",
            "sourceId" : "16",
            "destinationId" : "19",
            "description" : "If an old patient was overwritten, trigger patient history persistance for overwritten patient"
          }, {
            "id" : "66",
            "tags" : "Relationship",
            "sourceId" : "16",
            "destinationId" : "18",
            "description" : "Querries for new patients"
          }, {
            "id" : "83",
            "tags" : "Relationship",
            "sourceId" : "16",
            "destinationId" : "36",
            "description" : "Uses to authorize requests"
          } ],
          "size" : 0
        }, {
          "id" : "17",
          "tags" : "Element,Component",
          "name" : "Hospital Bed Controller",
          "description" : "implements the logic related to getting and setting the hospital bed availability",
          "relationships" : [ {
            "id" : "68",
            "tags" : "Relationship",
            "sourceId" : "17",
            "destinationId" : "16",
            "description" : "Provides data bout available hospital beds",
            "technology" : "JSON/HTTP"
          }, {
            "id" : "70",
            "tags" : "Relationship",
            "sourceId" : "17",
            "destinationId" : "22",
            "description" : "Uses to access hospital bed availability data",
            "technology" : "JSON/HTTP"
          } ],
          "size" : 0
        }, {
          "id" : "21",
          "tags" : "Element,Component",
          "name" : "Patient Condition Controller",
          "description" : "implements the logic related to getting patient's current condition",
          "relationships" : [ {
            "id" : "81",
            "tags" : "Relationship",
            "sourceId" : "21",
            "destinationId" : "36",
            "description" : "Uses to authorize requests"
          }, {
            "id" : "85",
            "tags" : "Relationship",
            "sourceId" : "21",
            "destinationId" : "22",
            "description" : "Uses to persists/access sensor data (during a single hospitalization)"
          }, {
            "id" : "84",
            "tags" : "Relationship",
            "sourceId" : "21",
            "destinationId" : "5",
            "description" : "Queries sensor data from"
          }, {
            "id" : "148",
            "tags" : "Relationship",
            "sourceId" : "21",
            "destinationId" : "6",
            "description" : "Requests sensor data related to patient's bed"
          } ],
          "size" : 0
        } ]
      }, {
        "id" : "25",
        "tags" : "Element,Container",
        "name" : "PMC Data Secondary Storage",
        "description" : "Persists medical devices configurations",
        "group" : "Patient Monitoring and Control",
        "technology" : "Relational DB"
      }, {
        "id" : "24",
        "tags" : "Element,Container",
        "name" : "PMC Data Storage",
        "description" : "Persists patient history, allocation of devices to beds, available beds configuration",
        "group" : "Patient Monitoring and Control",
        "technology" : "Relational DB"
      }, {
        "id" : "5",
        "tags" : "Element,Container",
        "name" : "Devices Web API",
        "description" : "Manages medical devices",
        "relationships" : [ {
          "id" : "41",
          "tags" : "Relationship",
          "sourceId" : "5",
          "destinationId" : "2",
          "description" : "Reports device malfunctions"
        }, {
          "id" : "47",
          "tags" : "Relationship",
          "sourceId" : "5",
          "destinationId" : "15",
          "description" : "Requests beds data from PMC, sends new device's allocation device to PMC"
        }, {
          "id" : "147",
          "tags" : "Relationship",
          "sourceId" : "5",
          "destinationId" : "3",
          "description" : "Requests device data"
        }, {
          "id" : "61",
          "tags" : "Relationship",
          "sourceId" : "5",
          "destinationId" : "11",
          "description" : "Retrieves devices data"
        }, {
          "id" : "54",
          "tags" : "Relationship",
          "sourceId" : "5",
          "destinationId" : "13",
          "description" : "Uses"
        }, {
          "id" : "44",
          "tags" : "Relationship",
          "sourceId" : "5",
          "destinationId" : "36",
          "description" : "Authorizes medical support staff"
        } ],
        "group" : "Medical Devices Management",
        "technology" : "Java Spring Boot",
        "components" : [ {
          "id" : "8",
          "tags" : "Element,Component",
          "name" : "Devices Management",
          "description" : "Implementation logic of devices application",
          "relationships" : [ {
            "id" : "90",
            "tags" : "Relationship",
            "sourceId" : "8",
            "destinationId" : "9",
            "description" : "Stores devices data and metadata"
          }, {
            "id" : "60",
            "tags" : "Relationship",
            "sourceId" : "8",
            "destinationId" : "11",
            "description" : "Retrieves devices data"
          }, {
            "id" : "91",
            "tags" : "Relationship",
            "sourceId" : "8",
            "destinationId" : "10",
            "description" : "Reports device's fault/failure to external services"
          } ],
          "size" : 0
        }, {
          "id" : "10",
          "tags" : "Element,Component",
          "name" : "Devices Notifications",
          "description" : "Sends e-mail / sms notification to users",
          "relationships" : [ {
            "id" : "96",
            "tags" : "Relationship",
            "sourceId" : "10",
            "destinationId" : "2",
            "description" : "Reports device's fault/failure to"
          } ],
          "size" : 0
        }, {
          "id" : "9",
          "tags" : "Element,Component",
          "name" : "Devices Persistence",
          "description" : "DB operations ORMs",
          "relationships" : [ {
            "id" : "95",
            "tags" : "Relationship",
            "sourceId" : "9",
            "destinationId" : "13",
            "description" : "Uses ORM to persist data"
          } ],
          "size" : 0
        }, {
          "id" : "7",
          "tags" : "Element,Component",
          "name" : "Devices Registration Controller",
          "description" : "Endpoints to (de)register devices",
          "relationships" : [ {
            "id" : "92",
            "tags" : "Relationship",
            "sourceId" : "7",
            "destinationId" : "8",
            "description" : "(De)registers devices"
          } ],
          "size" : 0
        }, {
          "id" : "6",
          "tags" : "Element,Component",
          "name" : "Devices Data Controller",
          "description" : "Endpoints to get device data",
          "relationships" : [ {
            "id" : "89",
            "tags" : "Relationship",
            "sourceId" : "6",
            "destinationId" : "8",
            "description" : "Gets devices data processed by application logic"
          } ],
          "size" : 0
        } ]
      }, {
        "id" : "14",
        "tags" : "Element,Container",
        "name" : "Devices Data Secondary Storage",
        "description" : "Persists medical devices configurations",
        "group" : "Medical Devices Management",
        "technology" : "Relational DB"
      }, {
        "id" : "13",
        "tags" : "Element,Container",
        "name" : "Devices Data Storage",
        "description" : "Persists medical devices configurations",
        "group" : "Medical Devices Management",
        "technology" : "Relational DB"
      }, {
        "id" : "33",
        "tags" : "Element,Container",
        "name" : "Drugs Usage Data Secondary Storage",
        "description" : "Stores available drugs allocation (balance)",
        "group" : "Drugs Usage",
        "technology" : "Relational DB"
      }, {
        "id" : "26",
        "tags" : "Element,Container",
        "name" : "Drugs Usage Web API",
        "description" : "Allocates drugs and reports depletion of drugs",
        "relationships" : [ {
          "id" : "52",
          "tags" : "Relationship",
          "sourceId" : "26",
          "destinationId" : "32",
          "description" : "Uses"
        }, {
          "id" : "49",
          "tags" : "Relationship",
          "sourceId" : "26",
          "destinationId" : "34",
          "description" : "Reports drugs depletion"
        } ],
        "group" : "Drugs Usage",
        "technology" : "Java Spring Boot",
        "components" : [ {
          "id" : "27",
          "tags" : "Element,Component",
          "name" : "Drug Delivery Manager",
          "description" : "Implements logic related to requesting drug delivery",
          "relationships" : [ {
            "id" : "104",
            "tags" : "Relationship",
            "sourceId" : "27",
            "destinationId" : "34",
            "description" : "Makes API call to"
          }, {
            "id" : "105",
            "tags" : "Relationship,newRelationship",
            "sourceId" : "27",
            "destinationId" : "31",
            "description" : "Queues drug requests"
          } ],
          "size" : 0
        }, {
          "id" : "28",
          "tags" : "Element,Component",
          "name" : "Drug Catalog Manager",
          "description" : "Implements logic related to querying drug information",
          "relationships" : [ {
            "id" : "98",
            "tags" : "Relationship",
            "sourceId" : "28",
            "destinationId" : "34",
            "description" : "Makes API call to"
          }, {
            "id" : "99",
            "tags" : "Relationship,newRelationship",
            "sourceId" : "28",
            "destinationId" : "31",
            "description" : "Caches drug information"
          } ],
          "size" : 0
        }, {
          "id" : "31",
          "tags" : "Element,Component",
          "name" : "Persistance layer",
          "relationships" : [ {
            "id" : "102",
            "tags" : "Relationship",
            "sourceId" : "31",
            "destinationId" : "32",
            "description" : "Uses to persist data"
          } ],
          "size" : 0
        }, {
          "id" : "30",
          "tags" : "Element,Component",
          "name" : "Drug Management",
          "description" : "Manages drug needs",
          "relationships" : [ {
            "id" : "103",
            "tags" : "Relationship",
            "sourceId" : "30",
            "destinationId" : "27",
            "description" : "Requests drug delivery"
          }, {
            "id" : "101",
            "tags" : "Relationship",
            "sourceId" : "30",
            "destinationId" : "31",
            "description" : "Stores drug prescriptions and local storage"
          } ],
          "size" : 0
        }, {
          "id" : "29",
          "tags" : "Element,Component",
          "name" : "Drug Controller",
          "description" : "Endpoint for drug management and info",
          "relationships" : [ {
            "id" : "100",
            "tags" : "Relationship",
            "sourceId" : "29",
            "destinationId" : "30",
            "description" : "Relays info about drug prescriptions"
          }, {
            "id" : "97",
            "tags" : "Relationship",
            "sourceId" : "29",
            "destinationId" : "28",
            "description" : "Relays queries about drug information"
          } ],
          "size" : 0
        } ]
      }, {
        "id" : "11",
        "tags" : "Element,Container,devicesAdapter",
        "name" : "Devices Adapter",
        "description" : "Resolves communication differences of devices as adapter",
        "relationships" : [ {
          "id" : "62",
          "tags" : "Relationship",
          "sourceId" : "11",
          "destinationId" : "3",
          "description" : "Makes call to unique API"
        } ],
        "group" : "Medical Devices Management"
      } ]
    }, {
      "id" : "34",
      "tags" : "Element,Software System",
      "name" : "Drug Monitoring (DM)",
      "description" : "Software System",
      "relationships" : [ {
        "id" : "51",
        "tags" : "Relationship",
        "sourceId" : "34",
        "destinationId" : "4",
        "description" : "Allocates drugs"
      }, {
        "id" : "50",
        "tags" : "Relationship",
        "sourceId" : "34",
        "destinationId" : "26",
        "description" : "Allocates drugs"
      } ],
      "location" : "Unspecified"
    }, {
      "id" : "3",
      "tags" : "Element,Software System,Specific type of medical device containing health sensors",
      "name" : "Medical Device",
      "description" : "Hardware",
      "location" : "Unspecified"
    }, {
      "id" : "36",
      "tags" : "Element,Software System",
      "name" : "OAuth Authorization Server",
      "description" : "Software System",
      "location" : "Unspecified"
    }, {
      "id" : "35",
      "tags" : "Element,Software System",
      "name" : "Patient registry",
      "description" : "Software System",
      "location" : "Unspecified"
    } ],
    "deploymentNodes" : [ {
      "id" : "112",
      "tags" : "Element,Deployment Node",
      "name" : "On-premises Datacenter",
      "environment" : "Production",
      "instances" : 1,
      "children" : [ {
        "id" : "113",
        "tags" : "Element,Deployment Node",
        "name" : "k8-med-apps.[base-intranet-url]",
        "environment" : "Production",
        "technology" : "Ubuntu 18.04 LTS",
        "instances" : 1,
        "children" : [ {
          "id" : "118",
          "tags" : "Element,Deployment Node",
          "name" : "Container #2",
          "environment" : "Production",
          "technology" : "Docker",
          "instances" : 1,
          "children" : [ {
            "id" : "119",
            "tags" : "Element,Deployment Node",
            "name" : "devices.pmc.[base-intranet-url]",
            "environment" : "Production",
            "technology" : "Apache Tomcat 8.x",
            "instances" : 1,
            "containerInstances" : [ {
              "id" : "120",
              "tags" : "Container Instance",
              "relationships" : [ {
                "id" : "121",
                "sourceId" : "120",
                "destinationId" : "116",
                "description" : "Requests beds data from PMC, sends new device's allocation device to PMC",
                "linkedRelationshipId" : "47"
              }, {
                "id" : "135",
                "sourceId" : "120",
                "destinationId" : "134",
                "description" : "Uses",
                "linkedRelationshipId" : "54"
              }, {
                "id" : "127",
                "sourceId" : "120",
                "destinationId" : "126",
                "description" : "Retrieves devices data",
                "linkedRelationshipId" : "61"
              } ],
              "environment" : "Production",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "5"
            } ]
          } ]
        }, {
          "id" : "124",
          "tags" : "Element,Deployment Node",
          "name" : "Container #4",
          "environment" : "Production",
          "technology" : "Docker",
          "instances" : 1,
          "children" : [ {
            "id" : "125",
            "tags" : "Element,Deployment Node",
            "name" : "devices-adapter.pmc.[base-intranet-url]",
            "environment" : "Production",
            "technology" : "Apache Tomcat 8.x",
            "instances" : 1,
            "containerInstances" : [ {
              "id" : "126",
              "tags" : "Container Instance",
              "environment" : "Production",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "11"
            } ]
          } ]
        }, {
          "id" : "128",
          "tags" : "Element,Deployment Node",
          "name" : "Container #3",
          "environment" : "Production",
          "technology" : "Docker",
          "instances" : 1,
          "children" : [ {
            "id" : "129",
            "tags" : "Element,Deployment Node",
            "name" : "drug-usage.pmc.[base-intranet-url]",
            "environment" : "Production",
            "technology" : "Apache Tomcat 8.x",
            "instances" : 1,
            "containerInstances" : [ {
              "id" : "130",
              "tags" : "Container Instance",
              "relationships" : [ {
                "id" : "137",
                "sourceId" : "130",
                "destinationId" : "136",
                "description" : "Uses",
                "linkedRelationshipId" : "52"
              } ],
              "environment" : "Production",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "26"
            } ]
          } ]
        }, {
          "id" : "114",
          "tags" : "Element,Deployment Node",
          "name" : "Container #1",
          "environment" : "Production",
          "technology" : "Docker",
          "instances" : 1,
          "children" : [ {
            "id" : "115",
            "tags" : "Element,Deployment Node",
            "name" : "app.pmc.[base-intranet-url]",
            "environment" : "Production",
            "technology" : "Apache Tomcat 8.x",
            "instances" : 1,
            "containerInstances" : [ {
              "id" : "116",
              "tags" : "Container Instance",
              "relationships" : [ {
                "id" : "139",
                "sourceId" : "116",
                "destinationId" : "138",
                "description" : "Uses",
                "linkedRelationshipId" : "53"
              }, {
                "id" : "122",
                "sourceId" : "116",
                "destinationId" : "120",
                "description" : "Queries data from medical devices",
                "linkedRelationshipId" : "48"
              }, {
                "id" : "131",
                "sourceId" : "116",
                "destinationId" : "130",
                "description" : "Request allocation of drugs to patient",
                "linkedRelationshipId" : "57"
              } ],
              "environment" : "Production",
              "deploymentGroups" : [ "Default" ],
              "instanceId" : 1,
              "containerId" : "15"
            } ]
          } ]
        } ]
      }, {
        "id" : "140",
        "tags" : "Element,Deployment Node,Failover",
        "name" : "med-db03.[base-intranet-url]",
        "environment" : "Production",
        "technology" : "Ubuntu 18.04 LTS",
        "instances" : 1,
        "children" : [ {
          "id" : "141",
          "tags" : "Element,Deployment Node,Failover",
          "name" : "Oracle - Secondary",
          "environment" : "Production",
          "technology" : "Oracle 19c",
          "instances" : 1,
          "containerInstances" : [ {
            "id" : "143",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "33"
          }, {
            "id" : "144",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "25"
          }, {
            "id" : "142",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "14"
          } ]
        } ]
      }, {
        "id" : "132",
        "tags" : "Element,Deployment Node",
        "name" : "med-db01.[base-intranet-url]",
        "environment" : "Production",
        "technology" : "Ubuntu 18.04 LTS",
        "instances" : 1,
        "children" : [ {
          "id" : "133",
          "tags" : "Element,Deployment Node",
          "name" : "Oracle - Primary",
          "relationships" : [ {
            "id" : "145",
            "tags" : "Relationship",
            "sourceId" : "133",
            "destinationId" : "141",
            "description" : "Replicates data to"
          } ],
          "environment" : "Production",
          "technology" : "Oracle 19c",
          "instances" : 1,
          "containerInstances" : [ {
            "id" : "138",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "24"
          }, {
            "id" : "134",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "13"
          }, {
            "id" : "136",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "32"
          } ]
        } ]
      } ]
    }, {
      "id" : "109",
      "tags" : "Element,Deployment Node",
      "name" : "Medical Staff's Workstation",
      "environment" : "Production",
      "technology" : "Microsoft Windows 10",
      "instances" : 1,
      "children" : [ {
        "id" : "110",
        "tags" : "Element,Deployment Node",
        "name" : "Web Browser",
        "environment" : "Production",
        "technology" : "Chrome, Firefox, Safari, or Edge",
        "instances" : 1,
        "containerInstances" : [ {
          "id" : "111",
          "tags" : "Container Instance",
          "relationships" : [ {
            "id" : "117",
            "sourceId" : "111",
            "destinationId" : "116",
            "description" : "Uses",
            "linkedRelationshipId" : "55"
          } ],
          "environment" : "Production",
          "deploymentGroups" : [ "Default" ],
          "instanceId" : 1,
          "containerId" : "23"
        } ]
      } ]
    }, {
      "id" : "106",
      "tags" : "Element,Deployment Node",
      "name" : "Technical User's Workstation",
      "environment" : "Production",
      "technology" : "Microsoft Windows 10",
      "instances" : 1,
      "children" : [ {
        "id" : "107",
        "tags" : "Element,Deployment Node",
        "name" : "Web Browser",
        "environment" : "Production",
        "technology" : "Chrome, Firefox, Safari, or Edge",
        "instances" : 1,
        "containerInstances" : [ {
          "id" : "108",
          "tags" : "Container Instance",
          "relationships" : [ {
            "id" : "123",
            "sourceId" : "108",
            "destinationId" : "120",
            "description" : "Uses",
            "linkedRelationshipId" : "56"
          } ],
          "environment" : "Production",
          "deploymentGroups" : [ "Default" ],
          "instanceId" : 1,
          "containerId" : "12"
        } ]
      } ]
    } ]
  },
  "documentation" : {
    "sections" : [ {
      "elementId" : "4",
      "title" : "Development Documentation",
      "order" : 2,
      "format" : "Markdown",
      "content" : "\n## Development Documentation\n\nFollowing sections contains further technical details for each application in PMC software system.\n\n#### Note on terminology\nFor clarity, in the PMC Core Application Container, there are only **Controller components** which, however, encompass both public (pre-generated, Swagger-like) web API **and business logic**. In other components the Controller's role is to provide only the public API and redirect requests to business-logic-related components.\n\nIn the entirety of the documentation, whenever you see a **persistence layer**, keep in mind that this component includes both the collection of **data models** for individual business logic components and separated & flexible **means of communication with the underlying database** system. \n\n### PMC Core Application\n\nThe main purpose of the PMC Core Application is to bring the whole system together by connecting all the other parts and provide the system's services to users (except for the medical support staff, that should use the *Devices Application* instead). It also directly handles patients' history and the allocation of hospital beds.\n\n![](embed:Level_3_central)\n\nLooking at the diagram horizontally, you may see that the server is composed mainly of two different layers - *Controllers* and the *Persistence Layer*. The web application communicates with the controllers (their API), which contain the business logic and store or retrieve data through the persistence layer (see [Note on terminology](#1.2.1)).\n\nVertically though, the diagram is divided into four separate units, each handling a different set of tasks the PMC Server needs to carry out. These tasks are primarily the prescription of drugs, managing patients' history, the allocation of beds to patients and monitoring the patients' condition.\n\n#### New-patient detector\n\nIn order to notify users of the application (the medical personnel) that a new patient does not have a bed allocated to them, the list of new patients is needed. The *New-patient detector* component is used to obtain this list using the *Patient registry*. It expects that the *Patient registry* provides data that are sufficient to determine this information.\n\n#### Patient Condition Controller\n\nShort history records about a patient's condition (the results measured by devices at a particular bed) are stored within the *Devices Application*. The *Patient Condition Controller* fetches them periodically and ensures the data about the current hospitalization are available in the *Persistence Layer* of the *PMC Server*.\n\n#### Patient History Controller\n\nAll the other controllers in the *PMC Server* use models concerning the current hospitalization of patients. When a patient leaves the hospital, the *Patient History Controller* takes all the data collected during the hospitalization and stores them via the *Persistence Layer*.\n\n#### Related workflows\n\nIn this workflow, we provide a detailed look at how new patients are discovered and displayed to the user. [New-patient detector](#2.1.1) provides only a list of new patients. It is up to the Patient Location Controller to filter only those, who don't have a bed assigned yet and respond to the frontend's request with the correct list. \n\n![](embed:PatientDiscoveryWorkflow)\n\nIn this workflow, we provide a detailed look at how patients are assigned to a bed. Patient location controller verifies if such change can be done and writes the change via the persistence layer. In the case another patient (who has departed) already occupied the same bed as requested, that patient's data is requested to be moved to history data models via the patient history controller.\n\n![](embed:AddPatientWorkflow)\n\n\n### Devices Application\n\nDevices application handles management and communication with medical devices. Devices Web API makes requests to devices on behalf of another services. Devices Web App allows medical support staff to manage medical devices.\n\n![](embed:Level_3_devices)\n\n#### Devices Web App\n\nDevices Web App allows medical support staff to register, move and unregister devices to hospital beds. In case of a device malfunction, users can see latest communication with the device.\n\n#### Devices Web API\n\nDevices Web API solves problems regarding non-uniformity in communication with medical devices -- each device is possibly communicating via different communication protocol and provides data in different data formats. Consumers of Devices Web API uses REST/Json API which returns device data in unified device model, with provided schemas for each device type. Consumers can request data from all devices registered under bed which ID is provided in request.\n\nThe differences are internally managed by adapters registered for each device type. When API receives a request to pull data from device, the request is delegated to device's adapter which directly contacts the device and converts device's response to unified data model of device data. The model is then serialized to JSON available to consumers of the API. When system needs to communicate with new type of devices (e.g. new type of temperature sensors), new adapter needs to be developed.\n\n#### Managing Devices\n\nDevices Web API application handles most of the implementation logic in component Devices Management, containing core logic for devices management and communication. Each Spring Boot controller executes granular steps defined in this Devices Management controller. Metadata, such as device configuration and their allocations to beds, are stored in the persistent storage. The communication with persistent storage is managed by persistance layer, which contains definitions of ORM data model used by application's internal logic. Devices Management stores latest requests activity for diagnostics.\n\n#### Handling Device Malfunctions\n\nWhen adapter fails to communicate with device or device returns invalid state, Devices Management component receives error based on type of failure. Devices Management stores error in communication under latest requests for the device and contacts Devices Notifications component to inform users via email and notification is sent to Slack application.\n\n![](embed:DeviceFailureWorkflow)\n\n\n#### Related Workflows\n\nThis workflow describes how the real-time *patient's condition* is checked and communicated by and within the system. This diagram requires you to know the workings of the [PMC Core Application](#2.1), be sure to read through that section first. After the frontend's request, the PMC core application requests data from [Devices Web API](#2.2.2) which sees the request though and returns data in a unified format as described in [it's documentation section and the following sections.](#2.2.2) \n\n![](embed:PatientConditionCheckWorkflow)\n\n### Drugs Application\n\nTakes care of all drug related problems and communications with *Drug Monitoring*.\n\nAll actions are taken as responses to requests from *PMC Server*, there is no active local loop.\n\nPossible requests from *PMC Server* are:\n- drug information query from drug catalog\n- change of patient's prescriptions\n- notification of used drugs\n\n![](embed:Level_3_drugs)\n\n#### Drug Controller\n\nInterface to be accessed by *PMC Server*, simply relays requests translated into local format of *Drug Application*.\n\n#### Drug Delivery Manager\n\nInterface accessing *Drug Monitoring* to request delivery of needed drugs and to report consumed drug packages.\n\n#### Drug Catalog Manager\n\nQueries drug information from *Drug Monitoring*. It is separated from core of *Drugs Application*, because this feature is completely orthogonal. Rest of *Drug Application* can work purely with drug ID and *Catalog Manager* does not need any drug storage or prescription information or any kind of local persistent storage. Furthermore, conceptually it is not even necessary to use *Drug Monitoring* and rather directly access some kind of national drug catalog.\n\n#### Drug Management\n\nMain logic of *Drugs Application*, handles patients' prescriptions and local drug storage. Based on those it communicates through *Drug Delivery Management* to request reasonable amount of drugs for near future.\n\n#### Related Workflows\n\nThe following workflow diagram elaborates on how drugs are prescribed to a patient. You can read about the [simplified version](#1.4.2) in a previous section. Notice that drug prescriptions are stored within the [Drugs Application](#2.3) and a request of a new delivery may be sent to the *Drug Monitoring* system in case the prescribed drugs are not available.\n\n![](embed:DrugsManagementWorkflow)\n\n### Deployment\n\nTo comply with safety requirements, deployments are being accessible only in hospital intranet (in diagrams denoted as base-intranet-url). As a microservices architecture, each application in PMC software system is deployed independently on another application as a single service.\n\n#### Application deployment\n\nApplications are managed by Kubernetes in k8-med-apps instance, each application running in own docker container. Applications scaling can be allowed by requesting DevOps managing k8-med-apps server. Users access Devices application under devices.pmc and PMC application under app.pmc in hospital's intranet.\n\n#### Storage deployment\n\nEach application uses its own database in Primary Oracle instance on med-db01 database server. To comply with regulations, storage is replicated to secondary storage on med-db03 database server.\n\n![](embed:Prod)\n"
    }, {
      "elementId" : "4",
      "title" : "Quality attributes",
      "order" : 3,
      "format" : "Markdown",
      "content" : "## Quality attributes\n\n\n### Performance\n\n#### Performance requirement scenarios\n\n>  *Patient Condition Controller* of *PMC server* periodically fetches medical device data for long-term storage\n\n- **Source:** *PMC server* container\n- **Stimulus:** Periodic read of device information from every device (~5000) every 30 seconds\n- **Artifact:** *Device web API* container\n- **Environment:** Normal operations\n- **Response:** All fetch request processed\n- **Measure:** With latency no larger than 30 seconds\n\nSince *medical devices* are independent of each other we can read in parallel from them with multiple *Devices Adapter*s. We would promote *Devices Adpater* to a container while *Device web API* keeps track of and manages registered devices as well as *Devices Adapter*s\n\nUpon every request the *Device web API* would hand of the request to a specific *Devices Adapter* along with information on which device to read from. The list of registered devices is thus kept only with the *Device web API*.\n\n![](embed:Level_3_devices)\n\n> Medical staff request patient medical data\n\n- **Source:** *Medical staff*\n- **Stimulus:** Sporadically checks patients medical data during the entire day\n- **Artifact:** *PMC Server* container\n- **Environment:** Normal operation\n- **Response:** All requests processed\n- **Measure:** With average latency of 1 seconds\n\nThis scenario presents a standard operation of the software system and the system should be able to accomodate such requests. The requests, while sporadic, will mostly be sparse. No alteration to the system is thus needed\n\n### Usability\n\nThe system provides various functionalities. Every one of them supports different kinds of tasks. The system is mainly used for *reading* acquired data, but\nsome parts can be changed while interacting with the user.\n\nMain use cases are:\n- **Assignment of new patients to beds** \n- **Viewing bed distribution among patients** \n- **Viewing patient's condition** \n- **Viewing and assigning drug usage** \n- **Device management** Reading data acquired from devices connected to patient's bed (reading patient's condition if working properly, otherwise reporting to Medical support staff). Installing and setting the devices to a different bed.\n\n**Learning system features**\n\nThe system should be intuitive and easy to use for everyday use in the hospital. Every task should be done swiftly and without big delays. Every person in the hospital should be learning how to use only the part of the system they will be actively using. Therefore there is no need for doctors to learn how to use Device Management App and for Medical Support Staff there is no need to learn how to order drugs or prescribe drugs to a speific patient or how to allocate the patients to the hospital beds.\n\n**Using system efficiently**\n\nTo be able to use the system efficiently, it should be intuitive, clearly organised and allowing the aggregation of data while reading or changing them. User initiative support should be implemented in order to ease the use of the system. Features of User Initiative Support is described further below.\n\n**Minimizing the impact of errors**\n\nAs with efficiency, for minimizing the impact of errors, user initiative support should be in place, mainly mechanisms of *Cancel* and *Undo*.\n\n**Adapting the system to user needs**\n\nFor proper adaptation of user needs, basic User initiative support should be in place and for more efficient system using, System Initiative Support can be implemented. Read about suggestions down below.\n\n**Increasing confidence and satisfaction**\n\nFor proper confidence in the system, any failure or success of functionality should be reported to the user. When a drug prescription is changed, the system should inform us whether the change got through to the database or whether there was any error along the way. No failure should be left unreported. It should not be the responsibility of the hospital staff to manually check every device if it is currently properly working. Any suspicious behavior should be immediately reported to authorised problem solving personnel.\n\n#### User Initiative Support\n\n**Cancel** Cancelling an action in PMC is not needed very often. \n\n> Drug order is suddenly redundant.\n\nImagine a situation when one patient who had a drug prescribed is released to home care. The drugs are no longer needed for his treatment and can be reallocated to other patients. Suddenly a shortage of a drug is no longer in place. What more, there may be not enough space to store the incoming shipment. Therefore it is useful to be able to cancel once issued drug order.\n\n**Pause/Resume** The only functionality that may need this mechanism is the device management - of one specific device.\n\n> A patient is being moved by the medical staff.\n\nThe device on patients bed may be paused to stop it from triggering an alarm. Then it may be resumed to its previous function without long setting after manipulation with the patient is done.\n\n**Undo** Is one of two most needed activities that may be needed in the PMC system. It may be needed in a device installing or wrong drug prescription.\n\n> Doctor prescribes s new drug to a patient. Then he is warned by a system, that the drug can't be prescribed with the already prescribed drugs. \n\nThe change should be therefore undone with ease. This should be allowed by undo mechanic. Its implementation is possible because the system persists the drug prescription data.\n\n**Aggregate** Is the second of the two most needed activities that may be needed in the PMC system. Since there are many of the same or very similar entities in the system (hospital beds, drugs, patients, devices) it is mandatory to enable the users to treat them in groups. \n\n> Orthopedic wing is flooded by water due to broken water pipes. Patients need to be moved to another hospital wing. \n\nIf the capacities allow it, don't move them in the system one by one but all at once. They are all ungoing the same change.\n\n#### System Initiative Support\nModels which could be useful in our Patient Monitoring and Control system, but are not currently supported by specific modules:\n\n**Task model** \n\n> When receiving new patient, if diagnosis is available, recommend available hospital bed in suitable hospital wing.\n\nInstead of just filtering patients without assigned hospital bed, recommend a solution if diagnosis data are available.\nNo hospital wing / diagnosis recommender map is available at the moment, however if it was to be implemented, the bed database is already available so only mapping of diagnosis-hopital wings would be needed to succesfully make a suitable new module for handling this kind of recommendations.\n\n**User model**\n\n> Drug recommendation based on previous patients' diagnosis and drug prescription.\n\nIf a patient has the same diagnosis as a patient treated before him, the same drugs may be used in his treatment. Recommend the combinations to save the time and just ask for doctor's agreement. If the drugs shall be for any reason different, let the doctor prescribe custom drugs.\nHowever, patient history is stored in the system and if the component for recommending was to be implemented, it has the data it needs.\n\n**System model**\n\n> Show estimated time to arrival of demanded drugs.\n\nThe hospital wing may be in serious time pressing need of specific drugs (a rare case of illness/injury). If the system shows higher estimated arrival time than is acceptable, it can react by dispatching an emergency courrier to acquire them in a faster way not going through the Drug monitoring system warehouse order management. The drug package shall be then received as usual but without the delay at the supllier's side.\nThere is currently no way to bypass the drug management ordering process conducted by Drug management external system. It obviously should not be bypassed in most of ordinary scenarios. However if drugs were to get to hospital the unofficial way, the systems would struggle to handle them properly without their proper registration to the package system.\n\n#### Usability requirement scenarios\n\nFrom the analysis above we extracted requirement scenarios:\n\n> Medical support staff receives notification about device failure. Find out where the device is.\n\n- **Source:** Medical support staff\n- **Stimulus:** Device Failure Notification received\n- **Artifact:** Device Web API (Devices Notification Component)\n- **Environment:** Normal operation\n- **Response:** The notification/e-mail contains link to the affected device, saving the worker the need to open Device Web App manually\n- **Measure:** 1 click to read the failed device specification (location, brief error message)\n\nIn current system architecture, it is possible to implement this feature. Devices Management Component is able to gather data about failed device. Through the Devices Data Component it is able to load the device endpoint used in the Devices Web App. No change in the architecture is needed to implement this feature.\n\n> A new enhanced brand of drugs is operating on the market. Hospital wants to use it instead of its old corresponding drugs.\n\n- **Source:** Head nurse\n- **Stimulus:** Change currently used brand of drugs in all affected patients' drug prescriptions\n- **Artifact:** PMC Web App\n- **Environment:** Normal operation\n- **Response:** The system changes prescribed drug brand for another in all ongoing prescriptions, saving the old brand to history\n- **Measure:** In 1 minute without manually searching for every individual affected patient\n\nDrug Controller implements the logic related to getting patient's drug data. If it is implemented in a way that it can get more data at once, there can be a function that filters the data by a given criterion. Then it should be possible to have those filtering options implemented also in the PMC Web App. Therefore no architecture change should be neccessary.\n\n> In case of catastrophy, we need to get the number and placement of *all* available beds for incoming injured people.\n\n- **Source:** Hospital capacity manager\n- **Stimulus:** Search for number and placement of available beds\n- **Artifact:** PMC Web App\n- **Environment:** Normal operation\n- **Response:** The system gives number and placement of available beds\n- **Measure:** Manager is able to tell a contact person from emergency services their current bed capacity\n\nIn the specification it is stated that the patients data should be available only for the specific hospital wing staff. However, given that the system is only running once, it can be assumed that there is some implicit filtering done by the user's allocation. If we accept that a director of the hospital should be able to oversee all allocations and patients and devices in the hospital, it can be possible to make a superuser or a superuser for a specific functionality, that would return records from *all* hospital wings, not just one. So we have PMC Data Storage which has available beds configuration, the Persistance Layer above with Patient Location Controller. \nEither the Patient Location Controller includes overview of available hospital beds, or a new Controller must be introduced that would be providing data of available beds, and the Controller should communicate with the Patient Location Controller to provide possible allocations for patients.\n\nIf the new Hospital Bed Controller is needed, the Component Diagram for PMC Server would look like this:\n\n![](embed:Level_3_central)\n\n### Availability\n\nThe system provides multiple functionalities and not all of them are equally important\nfor the department's operation. Here is a short assessment of functionalities and their importance:\n\n- **Assignment of new patients to beds** Patients typically come from a different department and thus a delay of up to 1 day due to software system availability problems is acceptable.\n- **Viewing patient's condition** This is a typical action, performed very often. Having this functionality unavailable would severely disturb the department's operation. However, having this functionality unavailable does not directly threaten patient's health.\n- **Drug usage** This system is of equal importance.\n- **Device management** Adding, modifying or configuring bed devices usually takes couple of hours and is performed by the technical staff. A temporary outage here is not very costly.\n\n\n#### Internal fault tolerance\n\nThe presentation layer is implement as two web applications. These applications run in the client's browser which can be considered a robust environment. Moreover this gives the user the ability to use a different device in case of a device failure. Since there are many devices available to the department, this transitioning process is quick and has only local effects.\n\nThe business layer (PMC Server, Drugs Usage Web API, Devices Web API) are all deployed to a kubernetes cluster, each in one replica. The cluster, however, consists of only one node (Ubuntu 18.04 LTS). This is a single point of failure for the entire system and if this node goes down, so does the kubernetes control plane (which is missing in the deployment diagram). Recovering such a failure wold take couple of hours because a technician needs to (re)start the physical machine manually. A solution would be to add a second machine and have the kubernetes control plane run on both of them.\n\nThe software system containers run only in one replica each, but since they run on kubernetes, liveness probes can be setup to automatically monitor their status. Kubernetes will then restart any service that becomes unavailable. This causes couple seconds of downtime, but that is acceptable given our requirements.\n\nThe database layer is designed very well, with replication in mind. The two database instances run on different machines and they both hold the latest data. The documentation doesn't state their relationship in regards to failure, but a reasonable option is to have the database cluster perform an automatic failover.\n\n\n#### External fault tolerance\n\nThere are many external software systems that may fail. The following is an assessment of the impact of such a failure:\n\n- **Medical Device** Although viewing patient's condition is a primary functionality, having a single device fail does not impact the functionality of the entire system. Moreover, given the number of connected devices, having one failed is a usual event and the PMC system even incorporates functionality for reporting such failures to the department staff.\n- **OAuth server** This external system is relied upon by many other software systems throughout the hospital. For this reason is this system designed to be highly available and thus very unlikely to fail.\n- **Patient registry** An old system, prone to failure (approx. once a month for an hour). While this system may fail, our system relies on it only when accepting new patients. Since this process is already time consuming, a temporary external system failure does not slow it down substantially. For this reason we do not need to take any measures here (e.g. adding a local cache). Our system remains in a degraded state during the downtime of the patient registry.\n- **Drug monitoring** While this system may go down occasionally, it is only used for requesting new drugs and reporting drug depletion. Our local drug usage system already stores information about lots of different drugs and their identification numbers are compatible with the external system. Therefore both drug requests and depletion reports may be queued locally during DM downtime. This will cause the local data (drug metadata, drug list, ...) to get stale over time, but they chage so rarely that it isn't a problem.\n\nThe architecture of the *Drug Usage Web API* container needs to be slightly modified. The *Drug Catalog Manager* needs to leverage the *Persistance layer* during DM outage. The *Drug Delivery Manager* needs to queue requests via the *Persistance layer* during DM downtime and also send these requests when DM becomes available.\n\n![](embed:Level_3_drugs)\n\n\n#### Availability requirement scenarios\n\nFrom the analysis above we extracted requirement scenarios:\n\n> External drug monitoring system is down and someone requests drugs.\n\n- **Source:** *Drugs Usage Web API* container\n- **Stimulus:** Unable to connect\n- **Artifact:** *Drug Monitoring (DM)* external software system\n- **Environment:** Normal operation\n- **Response:** Mask fault (queue the request)\n- **Measure:** No downtime\n\n> Business logic container crashes, is restarted by kubernetes.\n\n- **Source:** *PMC Server* container\n- **Stimulus:** Unable to connect (omission)\n- **Artifact:** *Devices Web API* container\n- **Environment:** Normal operation\n- **Response:** Mask fault (repeat after 10s)\n- **Measure:** 10s downtime\n\n> Patient registry is unavailable.\n\n- **Source:** *PMC Server* container\n- **Stimulus:** Unable to connect (omission)\n- **Artifact:** *Patient registry* external software system\n- **Environment:** Normal operation\n- **Response:** Describes the problem to the user\n- **Measure:** Degraded state\n\n\n#### Availability requirement presentation\n\n> Business logic container crashes, is restarted by kubernetes.\n\n- **Source:** *PMC Server* container\n- **Stimulus:** Unable to connect (omission)\n- **Artifact:** *Devices Web API* container\n- **Environment:** Normal operation\n- **Response:** Mask fault (repeat after 10s)\n- **Measure:** 10s downtime\n\n> External drug monitoring system is down and someone requests drugs.\n\n- **Source:** *Drugs Usage Web API* container\n- **Stimulus:** Unable to connect\n- **Artifact:** *Drug Monitoring (DM)* external software system\n- **Environment:** Normal operation\n- **Response:** Mask fault (queue the request)\n- **Measure:** No downtime\n\n![](embed:Level_3_drugs)\n\n"
    }, {
      "elementId" : "4",
      "title" : "Project Description",
      "order" : 1,
      "format" : "Markdown",
      "content" : "## Project Description\n\n### Overview\n**Patient monitoring and control** is a software system which provides medical personnel with the means to (de)allocate patients and view patient's condition as well as the patient's history within a medical facility. All this functionality is provided to users (medical (support) personnel) via web/mobile applications.\n\nThe system integrates with and is dependent on existing physical devices (sensors) and other software systems of the medical facility. The system is a **read-only** application with the exception of device management done by the *medical support staff*, allocation of patients and prescribing drugs. This means that apart from the device management, patient allocation and drug prescription, the data is only to be viewed by the personel. Patient allocation and drug prescription is on a facility-department basis. This means that only *medical staff* from department A (further denoted as *authorized*) can modify data related to a patient situated in the department A. \n\n#### Definitions\n* from now on, these definitions will be used and *emphasized* wherever used\n\n**Medical staff/personnel** - a doctor or otherwise authorized person who is permitted to view and modify a treatment of a patient, belongs to a hospital department\n\n**(Medical) device** - a real-time physical device used to monitor physical properties of human body (internal processes, external phenomena, fluid analysis, ...)\n\n**Medical support staff/personnel** - a technician or otherwise authorized person who is permitted to attach and physically maintain *devices*  \n\n**Patient's condition** - a collection of the data from *devices* attached to a bed occupied by a *patient*\n\n**Patient's hospitalization history** - a collection of data spanning all the time periods the *patient* has been hospitalized in the current medical facility, includes *patient's condition* recordings, drug usage.\n\n#### Constraints & Requirements\n* inaccessible from the Internet, local access only\n* authorize *medical (support) staff* and detect new *patients* using the data provided by external software systems\n* allow **authorized** *medical personnel* to \n  * allocate a patient to a particular bed\n  * prescribe medication which will be automatically fetched from existing drug system\n  * view patient's *current condition*\n  * view patient's drug prescriptions\n  * view *patient's hospitalization history*\n* provide automatic *patient history* persistence and store patient-related data (*condition*, allocation, drug usage) for patient's current hospitalization\n* manage communication with *devices*\n* allow *medical support staff* to\n  * manage *device* allocation to a bed\n  * react to *device* malfunction\n* manage drug allocation\n  * request a drug package from external software systems\n  * report depletion of a drug package to external software systems\n\n### Role of the PMC system within the hospital network\nIn addition to the requirements, the system also provides *medical support staff* with notifications about device malfunction.\nFollowing systems are expected to be operational and reachable within the hospital network:\n* Drug Monitoring - takes care of drug allocation & delivery\n* Patient Registry - a system providing simple information for all patients hospitalized\n* Authorization Server\n* Medical Devices - see definition of *(Medical) device*\n\n![](embed:Level_1)\n\n### System Design\n\nBased on requirements, PMC software system consists of three main parts:\n- PMC Application\n- Devices Application\n- Drugs Usage Application\n\nMedical staff access the system via PMC Application, medical support staff manages devices via Devices Application -- users access the application via browser. Each application is designed following four-tier architecture. Structure of PMC Application is described in further details in section [PMC Core Application](#2.1), similarly Devices Application in [Devices Application](#2.2) and Drugs Usage application in [Drugs Application](#2.3). Following [Workflows section](#1.4) describes workflows in PMC software system from users and external systems perspective.\n\n![](embed:Level_2)\n\n### Workflows\n\nFollowing diagrams describes how PMC software system is utilized in workflows with medical users and external systems. It is assumed that users are already authenticated via OAuth Authorization server.\n\n#### Patient management\n\nFollowing diagram describes the process of new patient discovery. If *medical staff* wishes to see incoming patients without a bed assignment, they interact with the web application. The PMC server, which forms a proper list of desired patients, requests data about new patients from the Patient registry and filters out those, who do not have a bed assigned. Such list is then formatted and displayed by the frontend to be seen by medical staff.\n\n![](embed:SimplePatientDiscoveryWorkflow)\n\nFollowing diagram describes the workflow of assigning a patient to a bed. *Medical staff* interacts with the web application, assigning a patient to a bed. The PMC server saves this change and responds by signaling success or failure. The response is displayed as a notification or an announcement window (possibly describing an error in a non-technical way).\n\n![](embed:SimpleAddPatientWorkflow)\n\nFollowing diagram describes the workflow how the PMC system provides current *patient's condition* data. *Medical staff* requests patient condition data via the web application. The PMC system then requests the current data of the devices attached to the patient's bed. This data is interpreted and displayed to the user in the web application. \n\n![](embed:SimplePatientConditionCheckWorkflow)\n\n#### Drugs management\n\nThe following diagram describes how drugs are prescribed to a patient. *Medical staff* assigns new drugs to a patient using the web application. The *PMC server* relays this request to the *Drugs Application*, whose task is to store the data about prescriptions. If the drug is not available, the *Drugs Application* sends a request of a new delivery to the *Drug Monitoring* system.\n\n![](embed:SimpleDrugsManagementWorkflow)\n\n#### Devices management\n\nFollowing diagram describes regular workflow how PMC software system manages medical device data. Medical support staff register medical devices to hospital beds in Devices Application. PMC Application then sends periodical requests to Devices Application to fetch new devices data for each hospital bed.\n\n![](embed:SimpleDeviceAssignmentWorkflow)\n\nFollowing diagram describes workflow in case of device malfunction. In case of malfunction, medical support staff is notified via e-mail and Slack app notification. Medical support staff can view device malfunction details in Devices Application. Response to PMC Application then contains generic non-technical notification available to medical staff. \n\n![](embed:SimpleDeviceFailureWorkflow)\n"
    } ]
  },
  "views" : {
    "systemContextViews" : [ {
      "softwareSystemId" : "4",
      "key" : "Level_1",
      "paperSize" : "A3_Landscape",
      "dimensions" : {
        "width" : 3816,
        "height" : 2116
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "1",
        "x" : 1683,
        "y" : 207
      }, {
        "id" : "34",
        "x" : 1658,
        "y" : 1557
      }, {
        "id" : "2",
        "x" : 300,
        "y" : 865
      }, {
        "id" : "35",
        "x" : 2420,
        "y" : 1555
      }, {
        "id" : "3",
        "x" : 2630,
        "y" : 365
      }, {
        "id" : "36",
        "x" : 2645,
        "y" : 910
      }, {
        "id" : "4",
        "x" : 1658,
        "y" : 907
      } ],
      "relationships" : [ {
        "id" : "37"
      }, {
        "id" : "63"
      }, {
        "id" : "51",
        "vertices" : [ {
          "x" : 2033,
          "y" : 1382
        } ]
      }, {
        "id" : "40"
      }, {
        "id" : "42"
      }, {
        "id" : "59"
      }, {
        "id" : "38",
        "vertices" : [ {
          "x" : 1160,
          "y" : 1270
        } ]
      }, {
        "id" : "39",
        "vertices" : [ {
          "x" : 1733,
          "y" : 1382
        } ]
      } ]
    } ],
    "containerViews" : [ {
      "softwareSystemId" : "4",
      "key" : "Level_2",
      "dimensions" : {
        "width" : 4695,
        "height" : 2575
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "11",
        "x" : 3445,
        "y" : 1425
      }, {
        "id" : "23",
        "x" : 1571,
        "y" : 866
      }, {
        "id" : "34",
        "x" : 20,
        "y" : 1265
      }, {
        "id" : "12",
        "x" : 3040,
        "y" : 870
      }, {
        "id" : "35",
        "x" : 720,
        "y" : 280
      }, {
        "id" : "24",
        "x" : 1575,
        "y" : 1935
      }, {
        "id" : "13",
        "x" : 3040,
        "y" : 2009
      }, {
        "id" : "36",
        "x" : 2320,
        "y" : 235
      }, {
        "id" : "15",
        "x" : 1575,
        "y" : 1396
      }, {
        "id" : "26",
        "x" : 770,
        "y" : 1275
      }, {
        "id" : "1",
        "x" : 1600,
        "y" : 160
      }, {
        "id" : "2",
        "x" : 3045,
        "y" : 109
      }, {
        "id" : "3",
        "x" : 4200,
        "y" : 1425
      }, {
        "id" : "5",
        "x" : 2730,
        "y" : 1430
      }, {
        "id" : "32",
        "x" : 770,
        "y" : 1925
      } ],
      "relationships" : [ {
        "id" : "61"
      }, {
        "id" : "50",
        "vertices" : [ {
          "x" : 715,
          "y" : 1289
        } ]
      }, {
        "id" : "41",
        "vertices" : [ {
          "x" : 3875,
          "y" : 849
        } ]
      }, {
        "id" : "62"
      }, {
        "id" : "52"
      }, {
        "id" : "53"
      }, {
        "id" : "54"
      }, {
        "id" : "43"
      }, {
        "id" : "44",
        "vertices" : [ {
          "x" : 2710,
          "y" : 1084
        } ]
      }, {
        "id" : "55"
      }, {
        "id" : "45"
      }, {
        "id" : "56"
      }, {
        "id" : "46",
        "vertices" : [ {
          "x" : 2510,
          "y" : 1079
        } ]
      }, {
        "id" : "57"
      }, {
        "id" : "47",
        "vertices" : [ {
          "x" : 2710,
          "y" : 1684
        } ]
      }, {
        "id" : "58",
        "vertices" : [ {
          "x" : 940,
          "y" : 915
        } ]
      }, {
        "id" : "48",
        "vertices" : [ {
          "x" : 2710,
          "y" : 1404
        } ]
      }, {
        "id" : "49",
        "vertices" : [ {
          "x" : 730,
          "y" : 1549
        } ]
      } ]
    } ],
    "componentViews" : [ {
      "key" : "Level_3_drugs",
      "paperSize" : "A4_Landscape",
      "dimensions" : {
        "width" : 3508,
        "height" : 2480
      },
      "containerId" : "26",
      "externalContainerBoundariesVisible" : true,
      "elements" : [ {
        "id" : "34",
        "x" : 310,
        "y" : 980
      }, {
        "id" : "15",
        "x" : 2990,
        "y" : 915
      }, {
        "id" : "27",
        "x" : 910,
        "y" : 1525
      }, {
        "id" : "28",
        "x" : 1215,
        "y" : 490
      }, {
        "id" : "29",
        "x" : 2175,
        "y" : 910
      }, {
        "id" : "30",
        "x" : 1235,
        "y" : 935
      }, {
        "id" : "31",
        "x" : 1715,
        "y" : 1535
      }, {
        "id" : "32",
        "x" : 1720,
        "y" : 2060
      } ],
      "relationships" : [ {
        "id" : "97"
      }, {
        "id" : "73"
      }, {
        "id" : "98"
      }, {
        "id" : "100"
      }, {
        "id" : "102"
      }, {
        "id" : "99",
        "vertices" : [ {
          "x" : 1745,
          "y" : 910
        }, {
          "x" : 1955,
          "y" : 1445
        }, {
          "x" : 1985,
          "y" : 1380
        }, {
          "x" : 1890,
          "y" : 1390
        } ]
      }, {
        "id" : "101"
      }, {
        "id" : "104"
      }, {
        "id" : "103"
      }, {
        "id" : "105"
      } ]
    }, {
      "key" : "Level_3_central",
      "paperSize" : "A3_Landscape",
      "dimensions" : {
        "width" : 4961,
        "height" : 3508
      },
      "containerId" : "15",
      "externalContainerBoundariesVisible" : true,
      "elements" : [ {
        "id" : "22",
        "x" : 2080,
        "y" : 1955
      }, {
        "id" : "23",
        "x" : 1585,
        "y" : 515
      }, {
        "id" : "35",
        "x" : 3045,
        "y" : 820
      }, {
        "id" : "24",
        "x" : 2070,
        "y" : 2515
      }, {
        "id" : "36",
        "x" : 2185,
        "y" : 320
      }, {
        "id" : "26",
        "x" : 755,
        "y" : 2030
      }, {
        "id" : "16",
        "x" : 2325,
        "y" : 1310
      }, {
        "id" : "17",
        "x" : 2875,
        "y" : 1955
      }, {
        "id" : "18",
        "x" : 3065,
        "y" : 1290
      }, {
        "id" : "19",
        "x" : 1830,
        "y" : 1295
      }, {
        "id" : "5",
        "x" : 3755,
        "y" : 2425
      }, {
        "id" : "20",
        "x" : 1270,
        "y" : 1310
      }, {
        "id" : "21",
        "x" : 3710,
        "y" : 1290
      } ],
      "relationships" : [ {
        "id" : "82",
        "vertices" : [ {
          "x" : 2635,
          "y" : 990
        } ]
      }, {
        "id" : "70"
      }, {
        "id" : "83",
        "vertices" : [ {
          "x" : 2855,
          "y" : 955
        } ]
      }, {
        "id" : "72"
      }, {
        "id" : "80",
        "vertices" : [ {
          "x" : 1110,
          "y" : 460
        } ]
      }, {
        "id" : "81",
        "vertices" : [ {
          "x" : 3875,
          "y" : 470
        } ]
      }, {
        "id" : "74"
      }, {
        "id" : "86",
        "vertices" : [ {
          "x" : 1810,
          "y" : 1875
        } ]
      }, {
        "id" : "87"
      }, {
        "id" : "65"
      }, {
        "id" : "84"
      }, {
        "id" : "76"
      }, {
        "id" : "75",
        "vertices" : [ {
          "x" : 2125,
          "y" : 1805
        } ]
      }, {
        "id" : "64"
      }, {
        "id" : "85"
      }, {
        "id" : "67"
      }, {
        "id" : "78"
      }, {
        "id" : "66"
      }, {
        "id" : "69",
        "vertices" : [ {
          "x" : 2670,
          "y" : 1745
        } ]
      }, {
        "id" : "68",
        "vertices" : [ {
          "x" : 2795,
          "y" : 1530
        } ]
      }, {
        "id" : "79",
        "vertices" : [ {
          "x" : 3635,
          "y" : 665
        } ]
      } ]
    }, {
      "key" : "Level_3_devices",
      "paperSize" : "A3_Landscape",
      "dimensions" : {
        "width" : 4961,
        "height" : 3508
      },
      "containerId" : "5",
      "externalContainerBoundariesVisible" : true,
      "elements" : [ {
        "id" : "11",
        "x" : 3210,
        "y" : 1280
      }, {
        "id" : "12",
        "x" : 1145,
        "y" : 125
      }, {
        "id" : "13",
        "x" : 2130,
        "y" : 2400
      }, {
        "id" : "2",
        "x" : 2630,
        "y" : 75
      }, {
        "id" : "15",
        "x" : 400,
        "y" : 1300
      }, {
        "id" : "6",
        "x" : 1140,
        "y" : 1295
      }, {
        "id" : "7",
        "x" : 1875,
        "y" : 710
      }, {
        "id" : "8",
        "x" : 2085,
        "y" : 1280
      }, {
        "id" : "9",
        "x" : 2105,
        "y" : 1810
      }, {
        "id" : "10",
        "x" : 2615,
        "y" : 710
      } ],
      "relationships" : [ {
        "id" : "93"
      }, {
        "id" : "94"
      }, {
        "id" : "91"
      }, {
        "id" : "60"
      }, {
        "id" : "92"
      }, {
        "id" : "95"
      }, {
        "id" : "43"
      }, {
        "id" : "96"
      }, {
        "id" : "88"
      }, {
        "id" : "89"
      }, {
        "id" : "90"
      } ]
    } ],
    "dynamicViews" : [ {
      "description" : "Summarises how medical staff allocates drugs to a patient.",
      "key" : "SimpleDrugsManagementWorkflow",
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "elementId" : "4",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Assigns a drug to a patient",
        "order" : "1",
        "response" : false
      }, {
        "id" : "55",
        "description" : "Requests the assignment of the drug to the patient",
        "order" : "2",
        "response" : false
      }, {
        "id" : "57",
        "description" : "Relays the request of the assignment of the drug to the patient",
        "order" : "3",
        "response" : false
      }, {
        "id" : "49",
        "description" : "In case the drug is not available, requests delivery",
        "order" : "4",
        "response" : false
      } ],
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "23",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "34",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "26",
        "x" : 0,
        "y" : 0
      } ]
    }, {
      "description" : "Summarises how new and unassigned patients are discovered.",
      "key" : "PatientDiscoveryWorkflow",
      "paperSize" : "A4_Landscape",
      "dimensions" : {
        "width" : 2504,
        "height" : 2154
      },
      "elementId" : "15",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Displays the unassigned-patient view / page",
        "order" : "1",
        "response" : false,
        "vertices" : [ {
          "x" : 2153,
          "y" : 1362
        } ]
      }, {
        "id" : "67",
        "description" : "Requests incoming unassigned patient list",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 1860,
          "y" : 595
        } ]
      }, {
        "id" : "66",
        "description" : "Requests new-patient list",
        "order" : "3",
        "response" : false,
        "vertices" : [ {
          "x" : 730,
          "y" : 595
        } ]
      }, {
        "id" : "65",
        "description" : "Requests patient data to determine new patients",
        "order" : "4",
        "response" : false,
        "vertices" : [ {
          "x" : 353,
          "y" : 1362
        } ]
      }, {
        "id" : "65",
        "description" : "Returns patient data",
        "order" : "5",
        "response" : true,
        "vertices" : [ {
          "x" : 653,
          "y" : 1362
        } ]
      }, {
        "id" : "66",
        "description" : "Returns incoming patient list",
        "order" : "6",
        "response" : true
      }, {
        "id" : "64",
        "description" : "Filter unassigned patients using",
        "order" : "7",
        "response" : false,
        "vertices" : [ {
          "x" : 1103,
          "y" : 737
        } ]
      }, {
        "id" : "64",
        "description" : "Returns list of filtered unassigned patients",
        "order" : "8",
        "response" : true,
        "vertices" : [ {
          "x" : 1340,
          "y" : 765
        } ]
      }, {
        "id" : "67",
        "description" : "Returns list of incoming unassigned patients",
        "order" : "9",
        "response" : true
      }, {
        "id" : "45",
        "description" : "Displays unassigned patients",
        "order" : "10",
        "response" : true,
        "vertices" : [ {
          "x" : 1853,
          "y" : 1362
        } ]
      } ],
      "elements" : [ {
        "id" : "22",
        "x" : 1015,
        "y" : 930
      }, {
        "id" : "1",
        "x" : 1803,
        "y" : 1487
      }, {
        "id" : "23",
        "x" : 1778,
        "y" : 887
      }, {
        "id" : "35",
        "x" : 278,
        "y" : 1537
      }, {
        "id" : "16",
        "x" : 1028,
        "y" : 287
      }, {
        "id" : "18",
        "x" : 278,
        "y" : 887
      } ]
    }, {
      "description" : "Summarises how medical staff allocates drugs to a patient.",
      "key" : "DrugsManagementWorkflow",
      "paperSize" : "A3_Portrait",
      "dimensions" : {
        "width" : 1858,
        "height" : 4416
      },
      "elementId" : "26",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Assigns a drug to a patient",
        "order" : "1",
        "response" : false
      }, {
        "id" : "76",
        "description" : "Requests the assignment of the drug to the patient",
        "order" : "2",
        "response" : false
      }, {
        "id" : "77",
        "description" : "Relays the request of the assignment of the drug to the patient",
        "order" : "3",
        "response" : false
      }, {
        "id" : "100",
        "description" : "Requests prescription of the drug to the patient",
        "order" : "4",
        "response" : false
      }, {
        "id" : "101",
        "description" : "Writes information about the prescription of the drug to the patient",
        "order" : "5",
        "response" : false,
        "vertices" : [ {
          "x" : 1149,
          "y" : 1873
        } ]
      }, {
        "id" : "101",
        "description" : "Checks the availability of the drug",
        "order" : "6",
        "response" : false,
        "vertices" : [ {
          "x" : 1449,
          "y" : 1873
        } ]
      }, {
        "id" : "103",
        "description" : "In case the drug is not available, requests delivery",
        "order" : "7",
        "response" : false
      }, {
        "id" : "104",
        "description" : "Requests delivery of the drug",
        "order" : "8",
        "response" : false
      } ],
      "elements" : [ {
        "id" : "1",
        "x" : 1120,
        "y" : 65
      }, {
        "id" : "23",
        "x" : 1095,
        "y" : 745
      }, {
        "id" : "34",
        "x" : 324,
        "y" : 2623
      }, {
        "id" : "27",
        "x" : 324,
        "y" : 2023
      }, {
        "id" : "29",
        "x" : 340,
        "y" : 1325
      }, {
        "id" : "30",
        "x" : 1074,
        "y" : 1423
      }, {
        "id" : "20",
        "x" : 315,
        "y" : 725
      }, {
        "id" : "31",
        "x" : 1074,
        "y" : 2023
      } ]
    }, {
      "description" : "Summarises how devices app is utilized with pmc application.",
      "key" : "SimpleDeviceAssignmentWorkflow",
      "paperSize" : "A4_Landscape",
      "dimensions" : {
        "width" : 3066,
        "height" : 2308
      },
      "elementId" : "4",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "149",
        "description" : "Installs device to hospital bed",
        "order" : "1",
        "response" : false
      }, {
        "id" : "43",
        "description" : "Makes request to register device for hospital bed",
        "order" : "2",
        "response" : false
      }, {
        "id" : "56",
        "description" : "Registers device for hospital bed",
        "order" : "3",
        "response" : false
      }, {
        "id" : "45",
        "description" : "Wants to see medical data for patient",
        "order" : "4",
        "response" : false
      }, {
        "id" : "55",
        "description" : "Requests data for patient",
        "order" : "5",
        "response" : false,
        "vertices" : [ {
          "x" : 1040,
          "y" : 815
        } ]
      }, {
        "id" : "48",
        "description" : "Requests devices data for bed where patient is allocated",
        "order" : "6",
        "response" : false,
        "vertices" : [ {
          "x" : 1189,
          "y" : 1556
        } ]
      }, {
        "id" : "147",
        "description" : "Requests device data for each device on bed",
        "order" : "7",
        "response" : false,
        "vertices" : [ {
          "x" : 2136,
          "y" : 1357
        } ]
      }, {
        "id" : "147",
        "description" : "Returns device data",
        "order" : "8",
        "response" : true,
        "vertices" : [ {
          "x" : 2165,
          "y" : 1645
        } ]
      }, {
        "id" : "47",
        "description" : "Returns device data",
        "order" : "9",
        "response" : false,
        "vertices" : [ {
          "x" : 1455,
          "y" : 1475
        } ]
      }, {
        "id" : "55",
        "description" : "Returns device data",
        "order" : "10",
        "response" : true,
        "vertices" : [ {
          "x" : 1282,
          "y" : 807
        } ]
      }, {
        "id" : "45",
        "description" : "User can see medical data",
        "order" : "11",
        "response" : true,
        "vertices" : [ {
          "x" : 585,
          "y" : 580
        } ]
      } ],
      "elements" : [ {
        "id" : "12",
        "x" : 1657,
        "y" : 1007
      }, {
        "id" : "1",
        "x" : 207,
        "y" : 957
      }, {
        "id" : "23",
        "x" : 907,
        "y" : 307
      }, {
        "id" : "2",
        "x" : 2374,
        "y" : 257
      }, {
        "id" : "3",
        "x" : 2407,
        "y" : 1007
      }, {
        "id" : "15",
        "x" : 907,
        "y" : 1007
      }, {
        "id" : "5",
        "x" : 1282,
        "y" : 1657
      } ]
    }, {
      "description" : "Summarises how technical staff is informed about device malfunction.",
      "key" : "DeviceFailureWorkflow",
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "elementId" : "5",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "60",
        "description" : "Requests data from a device",
        "order" : "1",
        "response" : false
      }, {
        "id" : "60",
        "description" : "Signifies invalid data",
        "order" : "2",
        "response" : true
      }, {
        "id" : "91",
        "description" : "Requests to notify users of the failure",
        "order" : "3",
        "response" : false
      }, {
        "id" : "90",
        "description" : "Stores failure details",
        "order" : "4",
        "response" : false
      }, {
        "id" : "96",
        "description" : "Notifies of the failure",
        "order" : "5",
        "response" : false
      }, {
        "id" : "43",
        "description" : "Reviews failure details for diagnostics",
        "order" : "6",
        "response" : false
      } ],
      "elements" : [ {
        "id" : "11",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "12",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "2",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "8",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "9",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "10",
        "x" : 0,
        "y" : 0
      } ]
    }, {
      "description" : "Summarises how the medical staff can access patient's current condition",
      "key" : "PatientConditionCheckWorkflow",
      "paperSize" : "A4_Portrait",
      "dimensions" : {
        "width" : 2454,
        "height" : 3458
      },
      "elementId" : "15",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Displays patient's condition view / page",
        "order" : "1",
        "response" : false
      }, {
        "id" : "79",
        "description" : "Requests patient's condition",
        "order" : "2",
        "response" : false
      }, {
        "id" : "85",
        "description" : "Requests patient's bed",
        "order" : "3",
        "response" : false,
        "vertices" : [ {
          "x" : 361,
          "y" : 2632
        } ]
      }, {
        "id" : "85",
        "description" : "Returns patient's bed",
        "order" : "4",
        "response" : true,
        "vertices" : [ {
          "x" : 661,
          "y" : 2632
        } ]
      }, {
        "id" : "148",
        "description" : "Requests sensor data related to patient's bed",
        "order" : "5",
        "response" : false,
        "vertices" : [ {
          "x" : 661,
          "y" : 2032
        } ]
      }, {
        "id" : "89",
        "description" : "Requests sensor data related to the bed",
        "order" : "6",
        "response" : false,
        "vertices" : [ {
          "x" : 661,
          "y" : 1407
        } ]
      }, {
        "id" : "60",
        "description" : "Request fresh device data using",
        "order" : "7",
        "response" : false,
        "vertices" : [ {
          "x" : 660,
          "y" : 750
        } ]
      }, {
        "id" : "62",
        "description" : "Fetches device data",
        "order" : "8",
        "response" : false,
        "vertices" : [ {
          "x" : 940,
          "y" : 580
        } ]
      }, {
        "id" : "62",
        "description" : "Returns device data",
        "order" : "9",
        "response" : true,
        "vertices" : [ {
          "x" : 920,
          "y" : 290
        } ]
      }, {
        "id" : "60",
        "description" : "Sends back sensor data",
        "order" : "10",
        "response" : true,
        "vertices" : [ {
          "x" : 375,
          "y" : 770
        } ]
      }, {
        "id" : "89",
        "description" : "Returns device data",
        "order" : "11",
        "response" : true,
        "vertices" : [ {
          "x" : 361,
          "y" : 1407
        } ]
      }, {
        "id" : "148",
        "description" : "Sends device data in response",
        "order" : "12",
        "response" : true,
        "vertices" : [ {
          "x" : 361,
          "y" : 2032
        } ]
      }, {
        "id" : "79",
        "description" : "Sends current patient condition data",
        "order" : "13",
        "response" : true,
        "vertices" : [ {
          "x" : 1165,
          "y" : 2315
        } ]
      } ],
      "elements" : [ {
        "id" : "22",
        "x" : 286,
        "y" : 2782
      }, {
        "id" : "11",
        "x" : 286,
        "y" : 295
      }, {
        "id" : "1",
        "x" : 1185,
        "y" : 1140
      }, {
        "id" : "23",
        "x" : 1155,
        "y" : 1800
      }, {
        "id" : "3",
        "x" : 1110,
        "y" : 295
      }, {
        "id" : "6",
        "x" : 286,
        "y" : 1582
      }, {
        "id" : "8",
        "x" : 286,
        "y" : 932
      }, {
        "id" : "21",
        "x" : 286,
        "y" : 2182
      } ]
    }, {
      "description" : "Summarises how the assigning of patients works.",
      "key" : "SimpleAddPatientWorkflow",
      "paperSize" : "A5_Landscape",
      "dimensions" : {
        "width" : 1704,
        "height" : 1608
      },
      "elementId" : "4",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Assigns an unassigned patient to a bed",
        "order" : "1",
        "response" : false,
        "vertices" : [ {
          "x" : 1005,
          "y" : 515
        } ]
      }, {
        "id" : "55",
        "description" : "Requests the assignment of a patient to a bed",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 361,
          "y" : 767
        } ]
      }, {
        "id" : "55",
        "description" : "Signals success/failure",
        "order" : "3",
        "response" : true,
        "vertices" : [ {
          "x" : 661,
          "y" : 767
        } ]
      }, {
        "id" : "45",
        "description" : "Signals success/failure",
        "order" : "4",
        "response" : true
      } ],
      "elements" : [ {
        "id" : "1",
        "x" : 1045,
        "y" : 710
      }, {
        "id" : "23",
        "x" : 286,
        "y" : 292
      }, {
        "id" : "15",
        "x" : 286,
        "y" : 942
      } ]
    }, {
      "description" : "Summarises how technical staff is informed about device malfunction.",
      "key" : "SimpleDeviceFailureWorkflow",
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "elementId" : "4",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "48",
        "description" : "Requests devices data for hospital bed",
        "order" : "1",
        "response" : false
      }, {
        "id" : "147",
        "description" : "Requests device data",
        "order" : "2",
        "response" : false
      }, {
        "id" : "147",
        "description" : "Malfunction in device",
        "order" : "3",
        "response" : true
      }, {
        "id" : "47",
        "description" : "Returns generic non-technical error message",
        "order" : "4",
        "response" : false
      }, {
        "id" : "41",
        "description" : "Sends notification",
        "order" : "5",
        "response" : false
      }, {
        "id" : "43",
        "description" : "Can review malfunction details",
        "order" : "6",
        "response" : false
      } ],
      "elements" : [ {
        "id" : "12",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "2",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "3",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "5",
        "x" : 0,
        "y" : 0
      } ]
    }, {
      "description" : "Summarises how the assigning of patients works.",
      "key" : "AddPatientWorkflow",
      "paperSize" : "A4_Landscape",
      "dimensions" : {
        "width" : 2504,
        "height" : 1608
      },
      "elementId" : "15",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Assigns an unassigned patient to a bed",
        "order" : "1",
        "response" : false
      }, {
        "id" : "67",
        "description" : "Requests the assignment of a patient to a bed",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 1790,
          "y" : 590
        } ]
      }, {
        "id" : "64",
        "description" : "Validates & writes data using",
        "order" : "3",
        "response" : false,
        "vertices" : [ {
          "x" : 1154,
          "y" : 804
        } ]
      }, {
        "id" : "64",
        "description" : "Signals success / failure",
        "order" : "4",
        "response" : true,
        "vertices" : [ {
          "x" : 1454,
          "y" : 804
        } ]
      }, {
        "id" : "146",
        "description" : "If an old patient was overwritten, trigger patient history persistance for overwritten patient",
        "order" : "5",
        "response" : false
      }, {
        "id" : "67",
        "description" : "Signals success / failure",
        "order" : "6",
        "response" : true
      } ],
      "elements" : [ {
        "id" : "22",
        "x" : 1079,
        "y" : 979
      }, {
        "id" : "1",
        "x" : 1825,
        "y" : 55
      }, {
        "id" : "23",
        "x" : 1829,
        "y" : 979
      }, {
        "id" : "16",
        "x" : 1079,
        "y" : 329
      }, {
        "id" : "19",
        "x" : 329,
        "y" : 979
      } ]
    }, {
      "description" : "Summarises how new and unassigned patients are discovered.",
      "key" : "SimplePatientDiscoveryWorkflow",
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "elementId" : "4",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Displays the unassigned-patient view / page",
        "order" : "1",
        "response" : false
      }, {
        "id" : "55",
        "description" : "Requests incoming unassigned patient list",
        "order" : "2",
        "response" : false
      }, {
        "id" : "58",
        "description" : "Requests information to determine new patients",
        "order" : "3",
        "response" : false
      }, {
        "id" : "58",
        "description" : "Responds with the required information",
        "order" : "4",
        "response" : true
      }, {
        "id" : "55",
        "description" : "Returns list of incoming unassigned patients",
        "order" : "5",
        "response" : true
      } ],
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "23",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "35",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "15",
        "x" : 0,
        "y" : 0
      } ]
    }, {
      "description" : "Summarises how the medical staff can access patient's current condition",
      "key" : "SimplePatientConditionCheckWorkflow",
      "paperSize" : "A4_Portrait",
      "dimensions" : {
        "width" : 1704,
        "height" : 2754
      },
      "elementId" : "4",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "45",
        "description" : "Displays patient's condition view / page",
        "order" : "1",
        "response" : false
      }, {
        "id" : "55",
        "description" : "Requests patient's condition",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 404,
          "y" : 804
        } ]
      }, {
        "id" : "48",
        "description" : "Requests sensor data related to patient's bed",
        "order" : "3",
        "response" : false,
        "vertices" : [ {
          "x" : 404,
          "y" : 1454
        } ]
      }, {
        "id" : "147",
        "description" : "Requests device data",
        "order" : "4",
        "response" : false,
        "vertices" : [ {
          "x" : 404,
          "y" : 2079
        } ]
      }, {
        "id" : "147",
        "description" : "Returns device data",
        "order" : "5",
        "response" : true,
        "vertices" : [ {
          "x" : 704,
          "y" : 2079
        } ]
      }, {
        "id" : "47",
        "description" : "Returns device data",
        "order" : "6",
        "response" : false,
        "vertices" : [ {
          "x" : 704,
          "y" : 1454
        } ]
      }, {
        "id" : "55",
        "description" : "Returns patient's condition",
        "order" : "7",
        "response" : true,
        "vertices" : [ {
          "x" : 704,
          "y" : 804
        } ]
      }, {
        "id" : "45",
        "description" : "Displays patietn's condition",
        "order" : "8",
        "response" : true,
        "vertices" : [ {
          "x" : 1100,
          "y" : 515
        } ]
      } ],
      "elements" : [ {
        "id" : "1",
        "x" : 1195,
        "y" : 700
      }, {
        "id" : "23",
        "x" : 329,
        "y" : 329
      }, {
        "id" : "3",
        "x" : 329,
        "y" : 2229
      }, {
        "id" : "15",
        "x" : 329,
        "y" : 979
      }, {
        "id" : "5",
        "x" : 329,
        "y" : 1629
      } ]
    } ],
    "deploymentViews" : [ {
      "softwareSystemId" : "4",
      "key" : "Prod",
      "dimensions" : {
        "width" : 4220,
        "height" : 2979
      },
      "environment" : "Production",
      "elements" : [ {
        "id" : "130",
        "x" : 350,
        "y" : 1120
      }, {
        "id" : "110",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "132",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "111",
        "x" : 1373,
        "y" : 350
      }, {
        "id" : "133",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "134",
        "x" : 1600,
        "y" : 2200
      }, {
        "id" : "112",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "113",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "114",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "136",
        "x" : 350,
        "y" : 2200
      }, {
        "id" : "115",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "116",
        "x" : 1373,
        "y" : 1120
      }, {
        "id" : "138",
        "x" : 960,
        "y" : 2200
      }, {
        "id" : "118",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "119",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "140",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "141",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "120",
        "x" : 2396,
        "y" : 1120
      }, {
        "id" : "142",
        "x" : 3420,
        "y" : 2200
      }, {
        "id" : "143",
        "x" : 2930,
        "y" : 2200
      }, {
        "id" : "144",
        "x" : 2435,
        "y" : 2200
      }, {
        "id" : "124",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "125",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "126",
        "x" : 3420,
        "y" : 1120
      }, {
        "id" : "106",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "128",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "107",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "129",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "108",
        "x" : 2396,
        "y" : 355
      }, {
        "id" : "109",
        "x" : 175,
        "y" : 175
      } ],
      "relationships" : [ {
        "id" : "131"
      }, {
        "id" : "122",
        "vertices" : [ {
          "x" : 2105,
          "y" : 1165
        } ]
      }, {
        "id" : "145"
      }, {
        "id" : "121",
        "vertices" : [ {
          "x" : 2095,
          "y" : 1465
        } ]
      }, {
        "id" : "135"
      }, {
        "id" : "123"
      }, {
        "id" : "127"
      }, {
        "id" : "139"
      }, {
        "id" : "117"
      }, {
        "id" : "137"
      } ]
    } ],
    "configuration" : {
      "branding" : { },
      "styles" : {
        "elements" : [ {
          "tag" : "webApp",
          "shape" : "WebBrowser"
        }, {
          "tag" : "mobileApp",
          "shape" : "MobileDevicePortrait"
        }, {
          "tag" : "Failover",
          "opacity" : 25
        }, {
          "tag" : "devicesAdapter",
          "background" : "#ff0000"
        } ],
        "relationships" : [ {
          "tag" : "newRelationship",
          "thickness" : 3,
          "color" : "#ff0000"
        } ]
      },
      "themes" : [ "https://static.structurizr.com/themes/default/theme.json" ],
      "terminology" : { },
      "lastSavedView" : "Level_3_drugs"
    }
  }
}